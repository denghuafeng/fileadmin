var youngli=youngli||{};var string=string||{};string.trim=function(c){return String(c).replace(new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),"")};string.toCamelCase=function(c){return String(c).replace(/[-_]\D/g,function(a){return a.charAt(1).toUpperCase()})};var toCameCase=string.toCamelCase;var trim=string.trim;var browser=browser||{};if(/chrome\/(\d+\.\d)/i.test(navigator.userAgent)){browser.chrome=parseFloat(RegExp["\x241"])}if(/firefox\/(\d+\.\d)/i.test(navigator.userAgent)){browser.firefox=parseFloat(RegExp["\x241"])}if(/msie (\d+\.\d)/i.test(navigator.userAgent)){ie=browser.ie=parseFloat(RegExp["\x241"])}browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);browser.isStrict=document.compatMode=="CSS1Compat";browser.isWebkit=/webkit/i.test(navigator.userAgent);try{if(/(\d+\.\d)/.test(external.max_version)){browser.maxthon=parseFloat(RegExp["\x241"])}}catch(e){}if(/opera\/(\d+\.\d)/i.test(navigator.userAgent)){browser.opera=parseFloat(RegExp["\x241"])}if((/(\d+\.\d)(\.\d)?\s+safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent))){browser.safari=parseFloat(RegExp["\x241"])}var dom=dom||{};dom.g=function(c){if("string"==typeof c||c instanceof String){return document.getElementById(c)}else{if(c&&c.nodeName&&(c.nodeType==1||c.nodeType==9)){return c}}return null};var g=dom.g;dom.addClass=function(k,j){k=g(k);var l=trim(j).split(/\s+/),h=l.length;j=k.className.split(/\s+/).join(" ");while(h--){(new RegExp("(^| )"+l[h]+"( |\x24)")).test(j)&&l.splice(h,1)}k.className=trim(j+" "+l.join(" "));return k};dom.children=function(j){j=g(j);for(var f=[],h=j.firstChild;h;h=h.nextSibling){if(h.nodeType==1){f.push(h)}}return f};dom.getDocument=function(c){c=dom.g(c);return c.nodeType==9?c:c.ownerDocument||c.document};dom.getPosition=function(s){var o=dom.getDocument(s);s=dom.g(s);var p=browser.isGecko>0&&o.getBoxObjectFor&&dom.getStyle(s,"position")=="absolute"&&(s.style.top===""||s.style.left==="");var n={left:0,top:0};var t=(browser.ie&&!browser.isStrict)?o.body:o.documentElement;if(s==t){return n}var r=null;var q;if(s.getBoundingClientRect){q=s.getBoundingClientRect();n.left=Math.floor(q.left)+Math.max(o.documentElement.scrollLeft,o.body.scrollLeft);n.top=Math.floor(q.top)+Math.max(o.documentElement.scrollTop,o.body.scrollTop);n.left-=o.documentElement.clientLeft;n.top-=o.documentElement.clientTop;if(browser.ie&&!browser.isStrict){n.left-=2;n.top-=2}}else{if(o.getBoxObjectFor&&!p){q=o.getBoxObjectFor(s);var m=o.getBoxObjectFor(t);n.left=q.screenX-m.screenX;n.top=q.screenY-m.screenY}else{r=s;do{n.left+=r.offsetLeft;n.top+=r.offsetTop;if(browser.isWebkit>0&&dom.getStyle(r,"position")=="fixed"){n.left+=o.body.scrollLeft;n.top+=o.body.scrollTop;break}r=r.offsetParent}while(r&&r!=s);if(browser.opera>0||(browser.isWebkit>0&&dom.getStyle(s,"position")=="absolute")){n.top-=o.body.offsetTop}r=s.offsetParent;while(r&&r!=o.body){n.left-=r.scrollLeft;if(!b.opera||r.tagName!="TR"){n.top-=r.scrollTop}r=r.offsetParent}}}return n};dom._styleFilter=dom._styleFilter||[];dom._styleFilter[dom._styleFilter.length]={set:function(d,f){if(f.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(d)){f=f+"px"}return f}};dom._styleFixer=dom._styleFixer||{};dom._styleFixer.display=browser.ie&&browser.ie<7?{set:function(d,f){d=d.style;if(f=="inline-block"){d.display="inline";d.zoom=1}else{d.display=f}}}:browser.firefox&&browser.firefox<3?{set:function(d,f){d.style.display=f=="inline-block"?"-moz-inline-box":f}}:null;dom._styleFixer["float"]=browser.ie?"styleFloat":"cssFloat";dom._styleFixer.opacity=browser.ie?{get:function(d){var f=d.style.filter;f&&f.indexOf("opacity=")>=0?(parseFloat(f.match(/opacity=([^)]*)/)[1])/100)+"":"1"},set:function(f,h){var j=f.style;j.filter=(j.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(h==1?"":"alpha(opacity="+h*100+")");j.zoom=1}}:null;dom._styleFixer.textOverflow=(function(){var l={};function h(c){var a=c.length;if(a>0){a=c[a-1];c.length--}else{a=null}return a}function k(c,a){c[browser.firefox?"textContent":"innerText"]=a}function j(a,y,E){var f=browser.ie?a.currentStyle||a.style:getComputedStyle(a,null),F=f.fontWeight,G="font-family:"+f.fontFamily+";font-size:"+f.fontSize+";word-spacing:"+f.wordSpacing+";font-weight:"+((parseInt(F)||0)==401?700:F)+";font-style:"+f.fontStyle+";font-variant:"+f.fontVariant,B=l[G];if(!B){f=a.appendChild(document.createElement("div"));f.style.cssText="float:left;"+G;B=l[G]=[];for(c=0;c<256;c++){c==32?(f.innerHTML="&nbsp;"):k(f,String.fromCharCode(c));B[c]=f.offsetWidth}k(f,"一");B[256]=f.offsetWidth;k(f,"一一");B[257]=f.offsetWidth-B[256]*2;B[258]=B[".".charCodeAt(0)]*3+B[257]*3;a.removeChild(f)}for(var d=a.firstChild,H=B[256],z=B[257],A=B[258],C=[],E=E?A:0;d;d=d.nextSibling){if(y<E){a.removeChild(d)}else{if(d.nodeType==3){for(var c=0,D=d.nodeValue,o=D.length;c<o;c++){f=D.charCodeAt(c);C[C.length]=[y,d,c];y-=(c?z:0)+(f<256?B[f]:H);if(y<E){break}}}else{f=d.tagName;if(f=="IMG"||f=="TABLE"){f=d;d=d.previousSibling;a.removeChild(f)}else{C[C.length]=[y,d];y-=d.offsetWidth}}}}if(y<E){while(f=h(C)){y=f[0];d=f[1];f=f[2];if(d.nodeType==3){if(y>=A){d.nodeValue=d.nodeValue.substring(0,f)+"...";return true}else{if(!f){a.removeChild(d)}}}else{if(j(d,y,true)){return true}else{a.removeChild(d)}}}a.innerHTML=""}}return{get:function(c,a){var d=d;return(d.opera?a.OTextOverflow:d.firefox?c._Overflow:a.textOverflow)||"clip"},set:function(f,c){var n=n;if(f.tagName=="TD"||f.tagName=="TH"||n.firefox){f._HTML&&(f.innerHTML=f._HTML);if(c=="ellipsis"){f._HTML=f.innerHTML;var a=document.createElement("div"),d=f.appendChild(a).offsetWidth;f.removeChild(a);j(f,d)}else{f._HTML=""}}a=f.style;n.opera?(a.OTextOverflow=c):n.firefox?(f._Overflow=c):(a.textOverflow=c)}}})();dom._styleFilter.filter=function(p,m,l){for(var k=0,n=dom._styleFilter,o;o=n[k];k++){if(o=o[l]){m=o(p,m)}}return m};dom.getStyle=function(m,n){m=dom.g(m);n=string.toCamelCase(n);var k=m.style[n];if(!k){var j=dom._styleFixer[n],l=m.currentStyle||(browser.ie?m.style:getComputedStyle(m,null));if("string"==typeof j){k=l[j]}else{if(j&&j.get){k=j.get(m,l)}else{k=l[n]}}}if(j=dom._styleFilter){k=j.filter(n,k,"get")}return k};dom.remove=function(d){d=dom.g(d);if("HTML BODY HEAD".indexOf(d.nodeName)==-1){if(browser.ie){var f=document.createElement("DIV");f.appendChild(d);f.innerHTML=""}else{(f=d.parentNode)&&f.removeChild(d)}}};dom.removeClass=function(j,h){j=dom.g(j);var f=string.trim;j.className=f(j.className.split(/\s+/).join("  ").replace(new RegExp("(^| )("+f(h).split(/\s+/).join("|")+")( |\x24)","g")," ").replace(/\s+/g," "));return j};dom.setStyle=function(k,l,j){var h;k=dom.g(k);l=string.toCamelCase(l);if(h=dom._styleFilter){j=h.filter(l,j,"set")}h=dom._styleFixer[l];(h&&h.set)?h.set(k,j):(k.style[h||l]=j);return k};dom.setStyles=function(j,h){j=dom.g(j);for(var f in h){dom.setStyle(j,f,h[f])}return j};var ajax=ajax||{};ajax.form=function(P,N){N=N||{};var K=P.elements,D=K.length,O=P.getAttribute("method"),L=P.getAttribute("action"),x=N.replacer||function(c,a){return c},A={},y=[],F,B,z,E,M,J,I,G,H;function C(a,c){y.push(a+"="+c)}for(F in N){if(N.hasOwnProperty(F)){A[F]=N[F]}}for(F=0;F<D;F++){B=K[F];E=B.name;if(!B.disabled&&E){z=B.type;M=B.value;switch(z){case"radio":case"checkbox":if(!B.checked){break}case"textarea":case"text":case"password":case"hidden":case"select-one":C(E,x(M,E));break;case"select-multiple":J=B.options;G=J.length;for(I=0;I<G;I++){H=J[I];if(H.selected){C(E,x(H.value,E))}}break}}}A.data=y.join("&");A.method=P.getAttribute("method")||"POST";return ajax.request(L,A)};ajax.get=function(f,d){return ajax.request(f,{onsuccess:d})};ajax.post=function(j,h,f){return ajax.request(j,{onsuccess:f,method:"POST",data:h})};ajax.request=function(D,H){function x(){if(t.readyState==4){try{var a=t.status}catch(c){C("failure");return}C(a);if((a>=200&&a<300)||a==304||a==1223){C("success")}else{C("failure")}window.setTimeout(function(){t.onreadystatechange=new Function();if(A){t=null}},0)}}function E(){if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}}if(window.XMLHttpRequest){return new XMLHttpRequest()}}function C(c){c="on"+c;var d=F[c],a=ajax[c];if(d){if(c!="onsuccess"){d(t)}else{d(t,t.responseText)}}else{if(a){if(c=="onsuccess"){return}a(t)}}}H=H||{};var y=H.data||"",A=!(H.async===false),z=H.username||"",u=H.password||"",G=(H.method||"GET").toUpperCase(),B=H.headers||{},F={},v,t;for(v in H){F[v]=H[v]}B["X-Request-By"]="ajax";try{t=E();if(G=="GET"){D+=(D.indexOf("?")>=0?"&":"?");if(y){D+=y+"&";y=null}D+="b"+(new Date()).getTime()+"=1"}if(z){t.open(G,D,A,z,u)}else{t.open(G,D,A)}if(A){t.onreadystatechange=x}if(G=="POST"){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}for(v in B){if(B.hasOwnProperty(v)){t.setRequestHeader(v,B[v])}}C("beforerequest");t.send(y);if(!A){x()}}catch(w){C("failure")}return t};var event=event||{};event._listeners=event._listeners||[];event.on=function(n,l,k,j){l=l.replace(/^on/i,"");if("string"==typeof n){n=g(n)}if(typeof j!="undefined"){var m=function(a){k.call(j,a)}}else{var m=function(a){k.call(n,a)}}lis=event._listeners;lis[lis.length]=[n,l,k,m];if(n.addEventListener){n.addEventListener(l,m,false)}else{if(n.attachEvent){n.attachEvent("on"+l,m)}}return n};event.on=event.on||{};event._unload=function(){var m=event._listeners,j=m.length,n=!!window.removeEventListener,k,l;while(j--){k=m[j];l=k[0];if(l.removeEventListener){l.removeEventListener(k[1],k[3],false)}else{if(l.detachEvent){l.detachEvent("on"+k[1],k[3])}}}if(n){window.removeEventListener("unload",event._unload,false)}else{window.detachEvent("onunload",event._unload)}};if(window.attachEvent){window.attachEvent("onunload",event._unload)}else{window.addEventListener("unload",event._unload,false)}function Event(c){c=c||window.event;this.target=c.target||c.srcElement;this.keyCode=c.which?c.which:c.keyCode;this.rightClick=(c.which==3)||(c.button==2)}Event.add=function(j,f,h){if(window.addEventListener){j.addEventListener(f,h,false)}else{j.attachEvent("on"+f,h)}};Event.remove=function(j,f,h){if(window.removeEventListener){j.removeEventListener(f,h,false)}else{j.detachEvent("on"+f,h)}};var array=array||{};array.each=function(l,n){var o,m,p,k=l.length;if("function"==typeof n){for(p=0;p<k;p++){m=l[p];o=n.call(l,m,p);if(o===false){break}}}return l};array.filter=function(m,o){var q=[],r=0,l=m.length,n,p;if("function"==typeof o){for(p=0;p<l;p++){n=m[p];if(true===o.call(m,n,p)){q[r++]=n}}}return q};array.find=function(k,m){var l,n,j=k.length;if("function"==typeof m){for(n=0;n<j;n++){l=k[n];if(true===m.call(k,l,n)){return l}}}return null};array.indexOf=function(l,k,n){var j=l.length,m=k;n=Number(n)||0;n=n<0?Math.ceil(n):Math.floor(n);n=Math.min(Math.max(n,0),j);if("function"!=typeof k){m=function(a){return k===a}}for(;n<j;n++){if(true===m.call(l,l[n],n)){return n}}return -1};array.lastIndexOf=function(k,j){var h=k.length,l=j;if("function"!=typeof j){l=function(a){return j===a}}while(h--){if(true===l.call(k,k[h],h)){return h}}return -1};array.remove=function(k,j){var h=k.length,l=j;if("function"!=typeof j){l=function(a){return j===a}}while(h--){if(true===l.call(k,k[h],h)){k.splice(h,1)}}};array.removeAt=function(f,d){return f.splice(d,1)[0]};array.unique=function(m,l){var p=m.length,k=m.slice(0),n,o;if("function"!=typeof l){l=function(a,c){return a===c}}while(--p>0){o=k[p];n=p-1;while(n--){if(l(o,k[n])){k.splice(p,1);break}}}return k};dhtmlx=function(a){for(var f in a){dhtmlx[f]=a[f]}return dhtmlx};dhtmlx.extend_api=function(h,j,k){var l=window[h];if(!l){return}window[h]=function(a){if(a&&typeof a=="object"&&!a.tagName&&!(a instanceof Array)){var c=l.apply(this,(j._init?j._init(a):arguments));for(var d in dhtmlx){if(j[d]){this[j[d]](dhtmlx[d])}}for(var d in a){if(j[d]){this[j[d]](a[d])}else{if(d.indexOf("on")==0){this.attachEvent(d,a[d])}}}}else{var c=l.apply(this,arguments)}if(j._patch){j._patch(this)}return c||this};window[h].prototype=l.prototype;if(k){dhtmlXHeir(window[h].prototype,k)}};dhtmlxAjax={get:function(f,h){var j=new dtmlXMLLoaderObject(true);j.async=(arguments.length<3);j.waitCall=h;j.loadXML(f);return j},post:function(h,k,j){var l=new dtmlXMLLoaderObject(true);l.async=(arguments.length<4);l.waitCall=j;l.loadXML(h,true,k);return l},getSync:function(c){return this.get(c,null,true)},postSync:function(d,f){return this.post(d,f,null,true)}};function dtmlXMLLoaderObject(l,j,k,h){this.xmlDoc="";if(typeof(k)!="undefined"){this.async=k}else{this.async=true}this.onloadAction=l||null;this.mainObject=j||null;this.waitCall=null;this.rSeed=h||false;return this}dtmlXMLLoaderObject.prototype.waitLoadFunction=function(f){var d=true;this.check=function(){if((f)&&(f.onloadAction!=null)){if((!f.xmlDoc.readyState)||(f.xmlDoc.readyState==4)){if(!d){return}d=false;if(typeof f.onloadAction=="function"){f.onloadAction(f.mainObject,null,null,null,f)}if(f.waitCall){f.waitCall.call(this,f);f.waitCall=null}}}};return this.check};dtmlXMLLoaderObject.prototype.getXMLTopNode=function(m,j){if(this.xmlDoc.responseXML){var n=this.xmlDoc.responseXML.getElementsByTagName(m);if(n.length==0&&m.indexOf(":")!=-1){var n=this.xmlDoc.responseXML.getElementsByTagName((m.split(":"))[1])}var k=n[0]}else{var k=this.xmlDoc.documentElement}if(k){this._retry=false;return k}if((_isIE)&&(!this._retry)){var l=this.xmlDoc.responseText;var j=this.xmlDoc;this._retry=true;this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=false;this.xmlDoc.loadXML(l);return this.getXMLTopNode(m,j)}dhtmlxError.throwError("LoadXML","Incorrect XML",[(j||this.xmlDoc),this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(j){try{var h=new DOMParser();this.xmlDoc=h.parseFromString(j,"text/xml")}catch(f){this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=this.async;this.xmlDoc.loadXML(j)}this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall){this.waitCall();this.waitCall=null}};dtmlXMLLoaderObject.prototype.loadXML=function(k,l,h,j){if(this.rSeed){k+=((k.indexOf("?")!=-1)?"&":"?")+"a_dhx_rSeed="+(new Date()).valueOf()}this.filePath=k;if((!_isIE)&&(window.XMLHttpRequest)){this.xmlDoc=new XMLHttpRequest()}else{if(document.implementation&&document.implementation.createDocument){this.xmlDoc=document.implementation.createDocument("","",null);this.xmlDoc.onload=new this.waitLoadFunction(this);this.xmlDoc.load(k);return}else{this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP")}}if(this.async){this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)}this.xmlDoc.open(l?"POST":"GET",k,this.async);if(j){this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")");this.xmlDoc.setRequestHeader("Content-type","text/xml")}else{if(l){this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded")}}this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(null||h);if(!this.async){(new this.waitLoadFunction(this))()}};dtmlXMLLoaderObject.prototype.destructor=function(){this.onloadAction=null;this.mainObject=null;this.xmlDoc=null;return null};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(j){var k={};for(var l=0;l<j.attributes.length;l++){k[j.attributes[l].name]=j.attributes[l].value}k._tagvalue=j.firstChild?j.firstChild.nodeValue:"";for(var l=0;l<j.childNodes.length;l++){var h=j.childNodes[l].tagName;if(h){if(!k[h]){k[h]=[]}k[h].push(this.xmlNodeToJSON(j.childNodes[l]))}}return k};function callerFunction(d,f){this.handler=function(a){if(!a){a=window.event}d(a,f);return true};return this.handler}function getAbsoluteLeft(c){return getOffset(c).left}function getAbsoluteTop(c){return getOffset(c).top}function getOffsetSum(f){var h=0,j=0;while(f){h=h+parseInt(f.offsetTop);j=j+parseInt(f.offsetLeft);f=f.offsetParent}return{top:h,left:j}}function getOffsetRect(u){var r=u.getBoundingClientRect();var q=document.body;var w=document.documentElement;var x=window.pageYOffset||w.scrollTop||q.scrollTop;var t=window.pageXOffset||w.scrollLeft||q.scrollLeft;var s=w.clientTop||q.clientTop||0;var p=w.clientLeft||q.clientLeft||0;var o=r.top+x-s;var v=r.left+t-p;return{top:Math.round(o),left:Math.round(v)}}function getOffset(c){if(c.getBoundingClientRect&&!_isChrome){return getOffsetRect(c)}else{return getOffsetSum(c)}}function convertStringToBoolean(c){if(typeof(c)=="string"){c=c.toLowerCase()}switch(c){case"1":case"true":case"yes":case"y":case 1:case true:return true;break;default:return false}}function getUrlSymbol(c){if(c.indexOf("?")!=-1){return"&"}else{return"?"}}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop){return window.dhtmlDragAndDrop}this.lastLanding=0;this.dragNode=0;this.dragStartNode=0;this.dragStartObject=0;this.tempDOMU=null;this.tempDOMM=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}dhtmlDragAndDropObject.prototype.removeDraggableItem=function(c){c.onmousedown=null;c.dragStarter=null;c.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(d,f){d.onmousedown=this.preCreateDragCopy;d.dragStarter=f;this.addDragLanding(d,f)};dhtmlDragAndDropObject.prototype.addDragLanding=function(d,f){d.dragLanding=f};dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(c){if((c||event)&&(c||event).button==2){return}if(window.dhtmlDragAndDrop.waitDrag){window.dhtmlDragAndDrop.waitDrag=0;document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU;document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM;return false}window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=new Date().valueOf();if((c)&&(c.preventDefault)){c.preventDefault();return false}return false};dhtmlDragAndDropObject.prototype.callDrag=function(m){if(!m){m=window.event}dragger=window.dhtmlDragAndDrop;if((new Date()).valueOf()-dragger.downtime<100){return}if((m.button==0)&&(_isIE)){return dragger.stopDrag()}if(!dragger.dragNode&&dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,m);if(!dragger.dragNode){return dragger.stopDrag()}dragger.dragNode.onselectstart=function(){return false};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body){var j=dragger.gldragNode;if(dragger.gldragNode.old){j=dragger.gldragNode.old}j.parentNode.removeChild(j);var n=dragger.dragNode.pWindow;if(_isIE){var k=document.createElement("Div");k.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=k.childNodes[0]}else{dragger.dragNode=dragger.dragNode.cloneNode(true)}dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);n.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=m.clientX+15+(dragger.fx?dragger.fx*(-1):0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=m.clientY+3+(dragger.fy?dragger.fy*(-1):0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";if(!m.srcElement){var l=m.target}else{l=m.srcElement}dragger.checkLanding(l,m)};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(k){if(window.name){var m=parent.frames[window.name].frameElement.offsetParent;var l=0;var n=0;while(m){l+=m.offsetLeft;n+=m.offsetTop;m=m.offsetParent}if((parent.dhtmlDragAndDrop)){var j=parent.dhtmlDragAndDrop.calculateFramePosition(1);l+=j.split("_")[0]*1;n+=j.split("_")[1]*1}if(k){return l+"_"+n}else{this.fx=l}this.fy=n}return"0_0"};dhtmlDragAndDropObject.prototype.checkLanding=function(f,d){if((f)&&(f.dragLanding)){if(this.lastLanding){this.lastLanding.dragLanding._dragOut(this.lastLanding)}this.lastLanding=f;this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,d.clientX,d.clientY,d);this.lastLanding_scr=(_isIE?d.srcElement:d.target)}else{if((f)&&(f.tagName!="BODY")){this.checkLanding(f.parentNode,d)}else{if(this.lastLanding){this.lastLanding.dragLanding._dragOut(this.lastLanding,d.clientX,d.clientY,d)}this.lastLanding=0;if(this._onNotFound){this._onNotFound()}}}};dhtmlDragAndDropObject.prototype.stopDrag=function(j,h){dragger=window.dhtmlDragAndDrop;if(!h){dragger.stopFrameRoute();var f=dragger.lastLanding;dragger.lastLanding=null;if(f){f.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,f,(_isIE?event.srcElement:j.target))}}dragger.lastLanding=null;if((dragger.dragNode)&&(dragger.dragNode.parentNode==document.body)){dragger.dragNode.parentNode.removeChild(dragger.dragNode)}dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(h){if(h){window.dhtmlDragAndDrop.stopDrag(1,1)}for(var f=0;f<window.frames.length;f++){try{if((window.frames[f]!=h)&&(window.frames[f].dhtmlDragAndDrop)){window.frames[f].dhtmlDragAndDrop.stopFrameRoute(window)}}catch(j){}}try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=h)){parent.dhtmlDragAndDrop.stopFrameRoute(window)}}catch(j){}};dhtmlDragAndDropObject.prototype.initFrameRoute=function(k,j){if(k){window.dhtmlDragAndDrop.preCreateDragCopy();window.dhtmlDragAndDrop.dragStartNode=k.dhtmlDragAndDrop.dragStartNode;window.dhtmlDragAndDrop.dragStartObject=k.dhtmlDragAndDrop.dragStartObject;window.dhtmlDragAndDrop.dragNode=k.dhtmlDragAndDrop.dragNode;window.dhtmlDragAndDrop.gldragNode=k.dhtmlDragAndDrop.dragNode;window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag;window.waitDrag=0;if(((!_isIE)&&(j))&&((!_isFF)||(_FFrv<1.8))){window.dhtmlDragAndDrop.calculateFramePosition()}}try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=k)){parent.dhtmlDragAndDrop.initFrameRoute(window)}}catch(l){}for(var h=0;h<window.frames.length;h++){try{if((window.frames[h]!=k)&&(window.frames[h].dhtmlDragAndDrop)){window.frames[h].dhtmlDragAndDrop.initFrameRoute(window,((!k||j)?1:0))}}catch(l){}}};var _isFF=false;var _isIE=false;var _isOpera=false;var _isKHTML=false;var _isMacOS=false;var _isChrome=false;if(navigator.userAgent.indexOf("Macintosh")!=-1){_isMacOS=true}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){_isChrome=true}if((navigator.userAgent.indexOf("Safari")!=-1)||(navigator.userAgent.indexOf("Konqueror")!=-1)){var _KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5));if(_KHTMLrv>525){_isFF=true;var _FFrv=1.9}else{_isKHTML=true}}else{if(navigator.userAgent.indexOf("Opera")!=-1){_isOpera=true;_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))}else{if(navigator.appName.indexOf("Microsoft")!=-1){_isIE=true;if(navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat"){_isIE=8}}else{_isFF=true;var _FFrv=parseFloat(navigator.userAgent.split("rv:")[1])}}}dtmlXMLLoaderObject.prototype.doXPath=function(t,r,s,n){if(_isKHTML||(!_isIE&&!window.XPathResult)){return this.doXPathOpera(t,r)}if(_isIE){if(!r){if(!this.xmlDoc.nodeName){r=this.xmlDoc.responseXML}else{r=this.xmlDoc}}if(!r){dhtmlxError.throwError("LoadXML","Incorrect XML",[(r||this.xmlDoc),this.mainObject])}if(s!=null){r.setProperty("SelectionNamespaces","xmlns:xsl='"+s+"'")}if(n=="single"){return r.selectSingleNode(t)}else{return r.selectNodes(t)||new Array(0)}}else{var v=r;if(!r){if(!this.xmlDoc.nodeName){r=this.xmlDoc.responseXML}else{r=this.xmlDoc}}if(!r){dhtmlxError.throwError("LoadXML","Incorrect XML",[(r||this.xmlDoc),this.mainObject])}if(r.nodeName.indexOf("document")!=-1){v=r}else{v=r;r=r.ownerDocument}var p=XPathResult.ANY_TYPE;if(n=="single"){p=XPathResult.FIRST_ORDERED_NODE_TYPE}var q=new Array();var u=r.evaluate(t,v,function(a){return s},p,null);if(p==XPathResult.FIRST_ORDERED_NODE_TYPE){return u.singleNodeValue}var o=u.iterateNext();while(o){q[q.length]=o;o=u.iterateNext()}return q}};function _dhtmlxError(j,f,h){if(!this.catches){this.catches=new Array()}return this}_dhtmlxError.prototype.catchError=function(f,d){this.catches[f]=d};_dhtmlxError.prototype.throwError=function(j,f,h){if(this.catches[j]){return this.catches[j](j,f,h)}if(this.catches.ALL){return this.catches.ALL(j,f,h)}return null};window.dhtmlxError=new _dhtmlxError();dtmlXMLLoaderObject.prototype.doXPathOpera=function(m,j){var k=m.replace(/[\/]+/gi,"/").split("/");var l=null;var n=1;if(!k.length){return[]}if(k[0]=="."){l=[j]}else{if(k[0]==""){l=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(k[n].replace(/\[[^\]]*\]/g,""));n++}else{return[]}}for(n;n<k.length;n++){l=this._getAllNamedChilds(l,k[n])}if(k[n-1].indexOf("[")!=-1){l=this._filterXPath(l,k[n-1])}return l};dtmlXMLLoaderObject.prototype._filterXPath=function(k,l){var a=new Array();var l=l.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,"");for(var c=0;c<k.length;c++){if(k[c].getAttribute(l)){a[a.length]=k[c]}}return a};dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(m,n){var a=new Array();if(_isKHTML){n=n.toUpperCase()}for(var c=0;c<m.length;c++){for(var j=0;j<m[c].childNodes.length;j++){if(_isKHTML){if(m[c].childNodes[j].tagName&&m[c].childNodes[j].tagName.toUpperCase()==n){a[a.length]=m[c].childNodes[j]}}else{if(m[c].childNodes[j].tagName==n){a[a.length]=m[c].childNodes[j]}}}}return a};function dhtmlXHeir(c,j){for(var a in j){if(typeof(j[a])=="function"){c[a]=j[a]}}return c}function dhtmlxEvent(j,h,f){if(j.addEventListener){j.addEventListener(h,f,false)}else{if(j.attachEvent){j.attachEvent("on"+h,f)}}}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(l,k,j){if(!j){j=this.xslDoc}if(j.responseXML){j=j.responseXML}var h=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+l+"']",j,"http://www.w3.org/1999/XSL/Transform","single");if(h!=null){h.firstChild.nodeValue=k}};dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(j,l){if(!j){j=this.xslDoc}if(j.responseXML){j=j.responseXML}if(!l){l=this.xmlDoc}if(l.responseXML){l=l.responseXML}if(!_isIE){if(!this.XSLProcessor){this.XSLProcessor=new XSLTProcessor();this.XSLProcessor.importStylesheet(j)}var h=this.XSLProcessor.transformToDocument(l)}else{var h=new ActiveXObject("Msxml2.DOMDocument.3.0");try{l.transformNodeToObject(j,h)}catch(k){h=l.transformNode(j)}}return h};dtmlXMLLoaderObject.prototype.doXSLTransToString=function(h,j){var f=this.doXSLTransToObject(h,j);if(typeof(f)=="string"){return f}return this.doSerialization(f)};dtmlXMLLoaderObject.prototype.doSerialization=function(f){if(!f){f=this.xmlDoc}if(f.responseXML){f=f.responseXML}if(!_isIE){var d=new XMLSerializer();return d.serializeToString(f)}else{return f.xml}};dhtmlxEventable=function(obj){obj.dhx_SeverCatcherPath="";obj.attachEvent=function(name,catcher,callObj){name="ev_"+name.toLowerCase();if(!this[name]){this[name]=new this.eventCatcher(callObj||this)}return(name+":"+this[name].addEvent(catcher))};obj.callEvent=function(name,arg0){name="ev_"+name.toLowerCase();if(this[name]){return this[name].apply(this,arg0)}return true};obj.checkEvent=function(name){return(!!this["ev_"+name.toLowerCase()])};obj.eventCatcher=function(obj){var dhx_catch=[];var z=function(){var res=true;for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]!=null){var zr=dhx_catch[i].apply(obj,arguments);res=res&&zr}}return res};z.addEvent=function(ev){if(typeof(ev)!="function"){ev=eval(ev)}if(ev){return dhx_catch.push(ev)-1}return false};z.removeEvent=function(id){dhx_catch[id]=null};return z};obj.detachEvent=function(id){if(id!=false){var list=id.split(":");this[list[0]].removeEvent(list[1])}}};function xmlPointer(c){this.d=c}xmlPointer.prototype={text:function(){if(!_isFF){return this.d.xml}var c=new XMLSerializer();return c.serializeToString(this.d)},get:function(c){return this.d.getAttribute(c)},exists:function(){return !!this.d},content:function(){return this.d.firstChild?this.d.firstChild.data:""},each:function(o,c,f,n){var p=this.d.childNodes;var a=new xmlPointer();if(p.length){for(n=n||0;n<p.length;n++){if(p[n].tagName==o){a.d=p[n];if(c.apply(f,[a,n])==-1){return}}}}},get_all:function(){var h={};var j=this.d.attributes;for(var a=0;a<j.length;a++){h[j[a].name]=j[a].value}return h},sub:function(k){var l=this.d.childNodes;var a=new xmlPointer();if(l.length){for(var c=0;c<l.length;c++){if(l[c].tagName==k){a.d=l[c];return a}}}},up:function(c){return new xmlPointer(this.d.parentNode)},set:function(d,f){this.d.setAttribute(d,f)},clone:function(c){return new xmlPointer(this.d)},sub_exists:function(h){var j=this.d.childNodes;if(j.length){for(var a=0;a<j.length;a++){if(j[a].tagName==h){return true}}}return false},through:function(v,r,c,t,a){var q=this.d.childNodes;if(q.length){for(var u=0;u<q.length;u++){if(q[u].tagName==v&&q[u].getAttribute(r)!=null&&q[u].getAttribute(r)!=""&&(!c||q[u].getAttribute(r)==c)){var s=new xmlPointer(q[u]);t.apply(a,[s,u])}var f=this.d;this.d=q[u];this.through(v,r,c,t,a);this.d=f}}}};function dhtmlXTreeObject(l,n,p,k){if(_isIE){try{document.execCommand("BackgroundImageCache",false,true)}catch(m){}}if(typeof(l)!="object"){this.parentObject=document.getElementById(l)}else{this.parentObject=l}this.parentObject.style.overflow="hidden";this._itim_dg=true;this.dlmtr=",";this.dropLower=false;this.enableIEImageFix();this.xmlstate=0;this.mytype="tree";this.smcheck=true;this.width=n;this.height=p;this.rootId=k;this.childCalc=null;this.def_img_x="18px";this.def_img_y="18px";this.def_line_img_x="18px";this.def_line_img_y="18px";this._dragged=new Array();this._selected=new Array();this.style_pointer="pointer";if(_isIE){this.style_pointer="hand"}this._aimgs=true;this.htmlcA=" [";this.htmlcB="]";this.lWin=window;this.cMenu=0;this.mlitems=0;this.iconURL="";this.dadmode=0;this.slowParse=false;this.autoScroll=true;this.hfMode=0;this.nodeCut=new Array();this.XMLsource=0;this.XMLloadingWarning=0;this._idpull={};this._pullSize=0;this.treeLinesOn=true;this.tscheck=false;this.timgen=true;this.dpcpy=false;this._ld_id=null;this._oie_onXLE=[];this.imPath=window.dhx_globalImgPath||"";this.checkArray=new Array("iconUncheckAll.gif","iconCheckAll.gif","iconCheckGray.gif","iconUncheckDis.gif","iconCheckDis.gif","iconCheckDis.gif");this.radioArray=new Array("radio_off.gif","radio_on.gif","radio_on.gif","radio_off.gif","radio_on.gif","radio_on.gif");this.lineArray=new Array("line2.gif","line3.gif","line4.gif","blank.gif","blank.gif","line1.gif");this.minusArray=new Array("minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif");this.plusArray=new Array("plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif");this.imageArray=new Array("leaf.gif","folderOpen.gif","folderClosed.gif");this.cutImg=new Array(0,0,0);this.cutImage="but_cut.gif";dhtmlxEventable(this);this.dragger=new dhtmlDragAndDropObject();this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this);this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none";this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow";this.allTree=this._createSelf();this.allTree.appendChild(this.htmlNode.htmlNode);if(_isFF){this.allTree.childNodes[0].width="100%";this.allTree.childNodes[0].style.overflow="hidden"}var o=this;this.allTree.onselectstart=new Function("return false;");if(_isMacOS){this.allTree.oncontextmenu=function(a){return o._doContClick(a||window.event)}}this.allTree.onmousedown=function(a){return o._doContClick(a||window.event)};this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,true,this.no_cashe);if(_isIE){this.preventIECashing(true)}if(window.addEventListener){window.addEventListener("unload",function(){try{o.destructor()}catch(a){}},false)}if(window.attachEvent){window.attachEvent("onunload",function(){try{o.destructor()}catch(a){}})}this.setImagesPath=this.setImagePath;this.setIconsPath=this.setIconPath;if(dhtmlx.image_path){this.setImagePath(dhtmlx.image_path)}if(dhtmlx.skin){this.setSkin(dhtmlx.skin)}return this}dhtmlXTreeObject.prototype.setDataMode=function(c){this._datamode=c};dhtmlXTreeObject.prototype._doContClick=function(s){if(s.button!=2){if(this._acMenu){if(this._acMenu.hideContextMenu){this._acMenu.hideContextMenu()}else{this.cMenu._contextEnd()}}return true}var t=(_isIE?s.srcElement:s.target);while((t)&&(t.tagName!="BODY")){if(t.parentObject){break}t=t.parentNode}if((!t)||(!t.parentObject)){return true}var q=t.parentObject;if(!this.callEvent("onRightClick",[q.id,s])){(s.srcElement||s.target).oncontextmenu=function(a){(a||event).cancelBubble=true;return false}}this._acMenu=(q.cMenu||this.cMenu);if(this._acMenu){if(!(this.callEvent("onBeforeContextMenu",[q.id]))){return true}(s.srcElement||s.target).oncontextmenu=function(a){(a||event).cancelBubble=true;return false};if(this._acMenu.showContextMenu){var o=window.document.documentElement;var r=window.document.body;var p=new Array((o.scrollLeft||r.scrollLeft),(o.scrollTop||r.scrollTop));if(_isIE){var n=s.clientX+p[0];var m=s.clientY+p[1]}else{var n=s.pageX;var m=s.pageY}this._acMenu.showContextMenu(n-1,m-1);this.contextID=q.id;s.cancelBubble=true;this._acMenu._skip_hide=true}else{t.contextMenuId=q.id;t.contextMenu=this._acMenu;t.a=this._acMenu._contextStart;t.a(t,s);t.a=null}return false}return true};dhtmlXTreeObject.prototype.enableIEImageFix=function(c){if(!c){this._getImg=function(a){return document.createElement((a==this.rootId)?"div":"img")};this._setSrc=function(a,f){a.src=f};this._getSrc=function(a){return a.src}}else{this._getImg=function(){var a=document.createElement("DIV");a.innerHTML="&nbsp;";a.className="dhx_bg_img_fix";return a};this._setSrc=function(a,f){a.style.backgroundImage="url("+f+")"};this._getSrc=function(f){var a=f.style.backgroundImage;return a.substr(4,a.length-5)}}};dhtmlXTreeObject.prototype.destructor=function(){for(var f in this._idpull){var a=this._idpull[f];if(!a){continue}a.parentObject=null;a.treeNod=null;a.childNodes=null;a.span=null;a.tr.nodem=null;a.tr=null;a.htmlNode.objBelong=null;a.htmlNode=null;this._idpull[f]=null}this.parentObject.innerHTML="";if(this.XMLLoader){this.XMLLoader.destructor()}this.allTree.onselectstart=null;this.allTree.oncontextmenu=null;this.allTree.onmousedown=null;for(var f in this){this[f]=null}};function cObject(){return this}cObject.prototype=new Object;cObject.prototype.clone=function(){function c(){}c.prototype=this;return new c()};function dhtmlXTreeItemObject(l,p,o,k,n,m){this.htmlNode="";this.acolor="";this.scolor="";this.tr=0;this.childsCount=0;this.tempDOMM=0;this.tempDOMU=0;this.dragSpan=0;this.dragMove=0;this.span=0;this.closeble=1;this.childNodes=new Array();this.userData=new cObject();this.checkstate=0;this.treeNod=k;this.label=p;this.parentObject=o;this.actionHandler=n;this.images=new Array(k.imageArray[0],k.imageArray[1],k.imageArray[2]);this.id=k._globalIdStorageAdd(l,this);if(this.treeNod.checkBoxOff){this.htmlNode=this.treeNod._createItem(1,this,m)}else{this.htmlNode=this.treeNod._createItem(0,this,m)}this.htmlNode.objBelong=this;return this}dhtmlXTreeObject.prototype._globalIdStorageAdd=function(f,d){if(this._globalIdStorageFind(f,1,1)){f=f+"_"+(new Date()).valueOf();return this._globalIdStorageAdd(f,d)}this._idpull[f]=d;this._pullSize++;return f};dhtmlXTreeObject.prototype._globalIdStorageSub=function(c){if(this._idpull[c]){this._unselectItem(this._idpull[c]);this._idpull[c]=null;this._pullSize--}if((this._locker)&&(this._locker[c])){this._locker[c]=false}};dhtmlXTreeObject.prototype._globalIdStorageFind=function(k,j,n,m){var l=this._idpull[k];if(l){return l}return null};dhtmlXTreeObject.prototype._escape=function(c){switch(this.utfesc){case"none":return c;break;case"utf8":return encodeURIComponent(c);break;default:return escape(c);break}};dhtmlXTreeObject.prototype._drawNewTr=function(k,m){var l=document.createElement("tr");var n=document.createElement("td");var j=document.createElement("td");n.appendChild(document.createTextNode(" "));j.colSpan=3;j.appendChild(k);l.appendChild(n);l.appendChild(j);return l};dhtmlXTreeObject.prototype.loadXMLString=function(h,j){var f=this;if(!this.parsCount){this.callEvent("onXLS",[f,null])}this.xmlstate=1;if(j){this.XMLLoader.waitCall=j}this.XMLLoader.loadXMLString(h)};dhtmlXTreeObject.prototype.loadXML=function(f,h){if(this._datamode&&this._datamode!="xml"){return this["load"+this._datamode.toUpperCase()](f,h)}var j=this;if(!this.parsCount){this.callEvent("onXLS",[j,this._ld_id])}this._ld_id=null;this.xmlstate=1;this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,true,this.no_cashe);if(h){this.XMLLoader.waitCall=h}this.XMLLoader.loadXML(f)};dhtmlXTreeObject.prototype._attachChildNode=function(L,M,O,K,z,A,B,J,P,G,F){if(G&&G.parentObject){L=G.parentObject}if(((L.XMLload==0)&&(this.XMLsource))&&(!this.XMLloadingWarning)){L.XMLload=1;this._loadDynXML(L.id)}var I=L.childsCount;var n=L.childNodes;if(F){if(F.tr.previousSibling.previousSibling){G=F.tr.previousSibling.nodem}else{J=J.replace("TOP","")+",TOP"}}if(G){var N,C;for(N=0;N<I;N++){if(n[N]==G){for(C=I;C!=N;C--){n[1+C]=n[C]}break}}N++;I=N}if(J){var E=J.split(",");for(var D=0;D<E.length;D++){switch(E[D]){case"TOP":if(L.childsCount>0){G=new Object;G.tr=L.childNodes[0].tr.previousSibling}L._has_top=true;for(N=I;N>0;N--){n[N]=n[N-1]}I=0;break}}}var H;if(!(H=this._idpull[M])||H.span!=-1){H=n[I]=new dhtmlXTreeItemObject(M,O,L,this,K,1);M=n[I].id;L.childsCount++}if(!H.htmlNode){H.label=O;H.htmlNode=this._createItem((this.checkBoxOff?1:0),H);H.htmlNode.objBelong=H}if(z){H.images[0]=z}if(A){H.images[1]=A}if(B){H.images[2]=B}var Q=this._drawNewTr(H.htmlNode);if((this.XMLloadingWarning)||(this._hAdI)){H.htmlNode.parentNode.parentNode.style.display="none"}if((G)&&(G.tr.nextSibling)){L.htmlNode.childNodes[0].insertBefore(Q,G.tr.nextSibling)}else{if(this.parsingOn==L.id){this.parsedArray[this.parsedArray.length]=Q}else{L.htmlNode.childNodes[0].appendChild(Q)}}if((G)&&(!G.span)){G=null}if(this.XMLsource){if((P)&&(P!=0)){H.XMLload=0}else{H.XMLload=1}}H.tr=Q;Q.nodem=H;if(L.itemId==0){Q.childNodes[0].className="hiddenRow"}if((L._r_logic)||(this._frbtr)){this._setSrc(H.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.imPath+this.radioArray[0])}if(J){var E=J.split(",");for(var D=0;D<E.length;D++){switch(E[D]){case"SELECT":this.selectItem(M,false);break;case"CALL":this.selectItem(M,true);break;case"CHILD":H.XMLload=0;break;case"CHECKED":if(this.XMLloadingWarning){this.setCheckList+=this.dlmtr+M}else{this.setCheck(M,1)}break;case"HCHECKED":this._setCheck(H,"unsure");break;case"OPEN":H.openMe=1;break}}}if(!this.XMLloadingWarning){if((this._getOpenState(L)<0)&&(!this._hAdI)){this.openItem(L.id)}if(G){this._correctPlus(G);this._correctLine(G)}this._correctPlus(L);this._correctLine(L);this._correctPlus(H);if(L.childsCount>=2){this._correctPlus(n[L.childsCount-2]);this._correctLine(n[L.childsCount-2])}if(L.childsCount!=2){this._correctPlus(n[0])}if(this.tscheck){this._correctCheckStates(L)}if(this._onradh){if(this.xmlstate==1){var R=this.onXLE;this.onXLE=function(a){this._onradh(M);if(R){R(a)}}}else{this._onradh(M)}}}return H};dhtmlXTreeObject.prototype.insertNewItem=function(w,s,q,x,t,u,v,y,z){var p=this._globalIdStorageFind(w);if(!p){return(-1)}var r=this._attachChildNode(p,s,q,x,t,u,v,y,z);return r};dhtmlXTreeObject.prototype.insertNewChild=function(s,o,n,t,p,q,r,u,v){return this.insertNewItem(s,o,n,t,p,q,r,u,v)};dhtmlXTreeObject.prototype._parseXMLTree=function(o,p,a,c,n){var d=new xmlPointer(n.getXMLTopNode("tree"));o._parse(d);o._p=d};dhtmlXTreeObject.prototype._parseItem=function(u,q,v,s){var x;if(this._srnd&&(!this._idpull[x=u.get("id")]||!this._idpull[x].span)){this._addItemSRND(q.id,x,u);return}var t=u.get_all();if((typeof(this.waitUpdateXML)=="object")&&(!this.waitUpdateXML[t.id])){this._parse(u,t.id,1);return}var a=[];if(t.select){a.push("SELECT")}if(t.top){a.push("TOP")}if(t.call){this.nodeAskingCall=t.id}if(t.checked==-1){a.push("HCHECKED")}else{if(t.checked){a.push("CHECKED")}}if(t.open){a.push("OPEN")}if(this.waitUpdateXML){if(this._globalIdStorageFind(t.id)){var r=this.updateItem(t.id,t.text,t.im0,t.im1,t.im2,t.checked)}else{if(this.npl==0){a.push("TOP")}else{v=q.childNodes[this.npl]}var r=this._attachChildNode(q,t.id,t.text,0,t.im0,t.im1,t.im2,a.join(","),t.child,0,v);v=null}}else{var r=this._attachChildNode(q,t.id,t.text,0,t.im0,t.im1,t.im2,a.join(","),t.child,(s||0),v)}if(t.tooltip){r.span.parentNode.parentNode.title=t.tooltip}if(t.style){if(r.span.style.cssText){r.span.style.cssText+=(";"+t.style)}else{r.span.setAttribute("style",r.span.getAttribute("style")+"; "+t.style)}}if(t.radio){r._r_logic=true}if(t.nocheckbox){var c=r.span.parentNode.previousSibling.previousSibling;c.childNodes[0].style.display="none";if(window._KHTMLrv){c.style.display="none"}r.nocheckbox=true}if(t.disabled){if(t.checked!=null){this._setCheck(r,t.checked)}this.disableCheckbox(r,1)}r._acc=t.child||0;if(this.parserExtension){this.parserExtension._parseExtension.call(this,u,t,(q?q.id:0))}this.setItemColor(r,t.aCol,t.sCol);if(t.locked=="1"){this.lockItem(r.id,true,true)}if((t.imwidth)||(t.imheight)){this.setIconSize(t.imwidth,t.imheight,r)}if((t.closeable=="0")||(t.closeable=="1")){this.setItemCloseable(r,t.closeable)}var w="";if(t.topoffset){this.setItemTopOffset(r,t.topoffset)}if((!this.slowParse)||(typeof(this.waitUpdateXML)=="object")){if(u.sub_exists("item")){w=this._parse(u,t.id,1)}}if(w!=""){this.nodeAskingCall=w}u.each("userdata",function(d){this.setUserData(u.get("id"),d.get("name"),d.content())},this)};dhtmlXTreeObject.prototype._parse=function(z,w,B,A){if(this._srnd&&!this.parentObject.offsetHeight){var n=this;return window.setTimeout(function(){n._parse(z,w,B,A)},100)}if(!z.exists()){return}this.skipLock=true;if(!w){w=z.get("id");if(z.get("radio")){this.htmlNode._r_logic=true}this.parsingOn=w;this.parsedArray=new Array();this.setCheckList="";this.nodeAskingCall=""}var p=this._globalIdStorageFind(w);if(!p){return dhtmlxError.throwError("DataStructure","XML refers to not existing parent")}this.parsCount=this.parsCount?(this.parsCount+1):1;this.XMLloadingWarning=1;if((p.childsCount)&&(!A)&&(!this._edsbps)&&(!p._has_top)){var v=p.childNodes[p.childsCount-1]}else{var v=0}this.npl=0;z.each("item",function(a,c){p.XMLload=1;if((this._epgps)&&(this._epgpsC==this.npl)){this._setNextPageSign(p,this.npl+1*(A||0),B,node);return -1}this._parseItem(a,p,v);this.npl++},this,A);if(!B){z.each("userdata",function(a){this.setUserData(z.get("id"),a.get("name"),a.content())},this);p.XMLload=1;if(this.waitUpdateXML){this.waitUpdateXML=false;for(var x=p.childsCount-1;x>=0;x--){if(p.childNodes[x]._dmark){this.deleteItem(p.childNodes[x].id)}}}var t=this._globalIdStorageFind(this.parsingOn);for(var x=0;x<this.parsedArray.length;x++){p.htmlNode.childNodes[0].appendChild(this.parsedArray[x])}this.lastLoadedXMLId=w;this.XMLloadingWarning=0;var s=this.setCheckList.split(this.dlmtr);for(var y=0;y<s.length;y++){if(s[y]){this.setCheck(s[y],1)}}if((this.XMLsource)&&(this.tscheck)&&(this.smcheck)&&(p.id!=this.rootId)){if(p.checkstate===0){this._setSubChecked(0,p)}else{if(p.checkstate===1){this._setSubChecked(1,p)}}}this._redrawFrom(this,null,A);if(z.get("order")&&z.get("order")!="none"){this._reorderBranch(p,z.get("order"),true)}if(this.nodeAskingCall!=""){this.callEvent("onClick",[this.nodeAskingCall,this.getSelectedItemId()])}if(this._branchUpdate){this._branchUpdateNext(z)}}if(this.parsCount==1){this.parsingOn=null;if((!this._edsbps)||(!this._edsbpsA.length)){var u=this;window.setTimeout(function(){u.callEvent("onXLE",[u,w])},1);this.xmlstate=0}this.skipLock=false}this.parsCount--;if((this._epgps)&&(A)){this._setPrevPageSign(p,(A||0),B,node)}if(!B&&this.onXLE){this.onXLE(this,w)}return this.nodeAskingCall};dhtmlXTreeObject.prototype._branchUpdateNext=function(c){c.each("item",function(a){var h=a.get("id");if(this._idpull[h]&&(!this._idpull[h].XMLload)){return}this._branchUpdate++;this.smartRefreshItem(a.get("id"),a)},this);this._branchUpdate--};dhtmlXTreeObject.prototype.checkUserData=function(j,h){if((j.nodeType==1)&&(j.tagName=="userdata")){var f=j.getAttribute("name");if((f)&&(j.childNodes[0])){this.setUserData(h,f,j.childNodes[0].data)}}};dhtmlXTreeObject.prototype._redrawFrom=function(m,l,n,r){if(!l){var p=m._globalIdStorageFind(m.lastLoadedXMLId);m.lastLoadedXMLId=-1;if(!p){return 0}}else{p=l}var o=0;for(var q=(n?n-1:0);q<p.childsCount;q++){if((!this._branchUpdate)||(this._getOpenState(p)==1)){if((!l)||(r==1)){p.childNodes[q].htmlNode.parentNode.parentNode.style.display=""}}if(p.childNodes[q].openMe==1){this._openItem(p.childNodes[q]);p.childNodes[q].openMe=0}m._redrawFrom(m,p.childNodes[q])}if((!p.unParsed)&&((p.XMLload)||(!this.XMLsource))){p._acc=o}m._correctLine(p);m._correctPlus(p)};dhtmlXTreeObject.prototype._createSelf=function(){var c=document.createElement("div");c.className="containerTableStyle";c.style.width=this.width;c.style.height=this.height;this.parentObject.appendChild(c);return c};dhtmlXTreeObject.prototype._xcloseAll=function(l){if(l.unParsed){return}if(this.rootId!=l.id){var j=l.htmlNode.childNodes[0].childNodes;var h=j.length;for(var k=1;k<h;k++){j[k].style.display="none"}this._correctPlus(l)}for(var k=0;k<l.childsCount;k++){if(l.childNodes[k].childsCount){this._xcloseAll(l.childNodes[k])}}};dhtmlXTreeObject.prototype._xopenAll=function(d){this._HideShow(d,2);for(var f=0;f<d.childsCount;f++){this._xopenAll(d.childNodes[f])}};dhtmlXTreeObject.prototype._correctPlus=function(n){if(!n.htmlNode){return}var m=n.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild;var k=n.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0];var j=this.lineArray;if((this.XMLsource)&&(!n.XMLload)){var j=this.plusArray;this._setSrc(k,this.iconURL+n.images[2]);if(this._txtimg){return(m.innerHTML="[+]")}}else{if((n.childsCount)||(n.unParsed)){if((n.htmlNode.childNodes[0].childNodes[1])&&(n.htmlNode.childNodes[0].childNodes[1].style.display!="none")){if(!n.wsign){var j=this.minusArray}this._setSrc(k,this.iconURL+n.images[1]);if(this._txtimg){return(m.innerHTML="[-]")}}else{if(!n.wsign){var j=this.plusArray}this._setSrc(k,this.iconURL+n.images[2]);if(this._txtimg){return(m.innerHTML="[+]")}}}else{this._setSrc(k,this.iconURL+n.images[0])}}var l=2;if(!n.treeNod.treeLinesOn){this._setSrc(m,this.imPath+j[3])}else{if(n.parentObject){l=this._getCountStatus(n.id,n.parentObject)}this._setSrc(m,this.imPath+j[l])}};dhtmlXTreeObject.prototype._correctLine=function(j){if(!j.htmlNode){return}var f=j.parentObject;if(f){if((this._getLineStatus(j.id,f)==0)||(!this.treeLinesOn)){for(var h=1;h<=j.childsCount;h++){if(!j.htmlNode.childNodes[0].childNodes[h]){break}j.htmlNode.childNodes[0].childNodes[h].childNodes[0].style.backgroundImage="";j.htmlNode.childNodes[0].childNodes[h].childNodes[0].style.backgroundRepeat=""}}else{for(var h=1;h<=j.childsCount;h++){if(!j.htmlNode.childNodes[0].childNodes[h]){break}j.htmlNode.childNodes[0].childNodes[h].childNodes[0].style.backgroundImage="url("+this.imPath+this.lineArray[5]+")";j.htmlNode.childNodes[0].childNodes[h].childNodes[0].style.backgroundRepeat="repeat-y"}}}};dhtmlXTreeObject.prototype._getCountStatus=function(f,d){if(d.childsCount<=1){if(d.id==this.rootId){return 4}else{return 0}}if(d.childNodes[0].id==f){if(d.id==this.rootId){return 2}else{return 1}}if(d.childNodes[d.childsCount-1].id==f){return 0}return 1};dhtmlXTreeObject.prototype._getLineStatus=function(f,d){if(d.childNodes[d.childsCount-1].id==f){return 0}return 1};dhtmlXTreeObject.prototype._HideShow=function(n,k){if((this.XMLsource)&&(!n.XMLload)){if(k==1){return}n.XMLload=1;this._loadDynXML(n.id);return}var l=n.htmlNode.childNodes[0].childNodes;var j=l.length;if(j>1){if(((l[1].style.display!="none")||(k==1))&&(k!=2)){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0";nodestyle="none"}else{nodestyle=""}for(var m=1;m<j;m++){l[m].style.display=nodestyle}}this._correctPlus(n)};dhtmlXTreeObject.prototype._getOpenState=function(d){var f=d.htmlNode.childNodes[0].childNodes;if(f.length<=1){return 0}if(f[1].style.display!="none"){return 1}else{return -1}};dhtmlXTreeObject.prototype.onRowClick2=function(){var c=this.parentObject.treeNod;if(!c.callEvent("onDblClick",[this.parentObject.id,c])){return false}if((this.parentObject.closeble)&&(this.parentObject.closeble!="0")){c._HideShow(this.parentObject)}else{c._HideShow(this.parentObject,2)}if(c.checkEvent("onOpenEnd")){if(!c.xmlstate){c.callEvent("onOpenEnd",[this.parentObject.id,c._getOpenState(this.parentObject)])}else{c._oie_onXLE.push(c.onXLE);c.onXLE=c._epnFHe}}return false};dhtmlXTreeObject.prototype.onRowClick=function(){var c=this.parentObject.treeNod;if(!c.callEvent("onOpenStart",[this.parentObject.id,c._getOpenState(this.parentObject)])){return 0}if((this.parentObject.closeble)&&(this.parentObject.closeble!="0")){c._HideShow(this.parentObject)}else{c._HideShow(this.parentObject,2)}if(c.checkEvent("onOpenEnd")){if(!c.xmlstate){c.callEvent("onOpenEnd",[this.parentObject.id,c._getOpenState(this.parentObject)])}else{c._oie_onXLE.push(c.onXLE);c.onXLE=c._epnFHe}}};dhtmlXTreeObject.prototype._epnFHe=function(j,h,f){if(h!=this.rootId){this.callEvent("onOpenEnd",[h,j.getOpenState(h)])}j.onXLE=j._oie_onXLE.pop();if(!f&&!j._oie_onXLE.length){if(j.onXLE){j.onXLE(j,h)}}};dhtmlXTreeObject.prototype.onRowClickDown=function(f){f=f||window.event;var d=this.parentObject.treeNod;d._selectItem(this.parentObject,f)};dhtmlXTreeObject.prototype.getSelectedItemId=function(){var f=new Array();for(var d=0;d<this._selected.length;d++){f[d]=this._selected[d].id}return(f.join(this.dlmtr))};dhtmlXTreeObject.prototype._selectItem=function(f,j){if(this.checkEvent("onSelect")){this._onSSCFold=this.getSelectedItemId()}this._unselectItems();this._markItem(f);if(this.checkEvent("onSelect")){var h=this.getSelectedItemId();if(h!=this._onSSCFold){this.callEvent("onSelect",[h])}}};dhtmlXTreeObject.prototype._markItem=function(c){if(c.scolor){c.span.style.color=c.scolor}c.span.className="selectedTreeRow";c.i_sel=true;this._selected[this._selected.length]=c};dhtmlXTreeObject.prototype.getIndexById=function(f){var d=this._globalIdStorageFind(f);if(!d){return null}return this._getIndex(d)};dhtmlXTreeObject.prototype._getIndex=function(f){var h=f.parentObject;for(var j=0;j<h.childsCount;j++){if(h.childNodes[j]==f){return j}}};dhtmlXTreeObject.prototype._unselectItem=function(f){if((f)&&(f.i_sel)){f.span.className="standartTreeRow";if(f.acolor){f.span.style.color=f.acolor}f.i_sel=false;for(var d=0;d<this._selected.length;d++){if(!this._selected[d].i_sel){this._selected.splice(d,1);break}}}};dhtmlXTreeObject.prototype._unselectItems=function(){for(var d=0;d<this._selected.length;d++){var f=this._selected[d];f.span.className="standartTreeRow";if(f.acolor){f.span.style.color=f.acolor}f.i_sel=false}this._selected=new Array()};dhtmlXTreeObject.prototype.onRowSelect=function(n,o,l){n=n||window.event;var p=this.parentObject;if(o){p=o.parentObject}var k=p.treeNod;var m=k.getSelectedItemId();if((!n)||(!n.skipUnSel)){k._selectItem(p,n)}if(!l){if(p.actionHandler){p.actionHandler(p.id,m)}else{k.callEvent("onClick",[p.id,m])}}};dhtmlXTreeObject.prototype._correctCheckStates=function(k){if(!this.tscheck){return}if(!k){return}if(k.id==this.rootId){return}var m=k.childNodes;var n=0;var j=0;if(k.childsCount==0){return}for(var l=0;l<k.childsCount;l++){if(m[l].dscheck){continue}if(m[l].checkstate==0){n=1}else{if(m[l].checkstate==1){j=1}else{n=1;j=1;break}}}if((n)&&(j)){this._setCheck(k,"unsure")}else{if(n){this._setCheck(k,false)}else{this._setCheck(k,true)}}this._correctCheckStates(k.parentObject)};dhtmlXTreeObject.prototype.onCheckBoxClick=function(c){if(!this.treeNod.callEvent("onBeforeCheck",[this.parentObject.id,this.parentObject.checkstate])){return}if(this.parentObject.dscheck){return true}if(this.treeNod.tscheck){if(this.parentObject.checkstate==1){this.treeNod._setSubChecked(false,this.parentObject)}else{this.treeNod._setSubChecked(true,this.parentObject)}}else{if(this.parentObject.checkstate==1){this.treeNod._setCheck(this.parentObject,false)}else{this.treeNod._setCheck(this.parentObject,true)}}this.treeNod._correctCheckStates(this.parentObject.parentObject);return this.treeNod.callEvent("onCheck",[this.parentObject.id,this.parentObject.checkstate])};dhtmlXTreeObject.prototype._createItem=function(s,t,w){var r=document.createElement("table");r.cellSpacing=0;r.cellPadding=0;r.border=0;if(this.hfMode){r.style.tableLayout="fixed"}r.style.margin=0;r.style.padding=0;var x=document.createElement("tbody");var u=document.createElement("tr");var A=document.createElement("td");A.className="standartTreeImage";if(this._txtimg){var z=document.createElement("div");A.appendChild(z);z.className="dhx_tree_textSign"}else{var z=this._getImg(t.id);z.border="0";if(z.tagName=="IMG"){z.align="absmiddle"}A.appendChild(z);z.style.padding=0;z.style.margin=0;z.style.width=this.def_line_img_x;z.style.height=this.def_line_img_y}var B=document.createElement("td");var v=this._getImg(this.cBROf?this.rootId:t.id);v.checked=0;v.style.width="16px";v.style.height="16px";if(!s){((!_isIE)?B:v).style.display="none"}B.appendChild(v);if((!this.cBROf)&&(v.tagName=="IMG")){v.align="absmiddle"}v.onclick=this.onCheckBoxClick;v.treeNod=this;v.parentObject=t;if(!window._KHTMLrv){B.width="20px"}else{B.width="16px"}var C=document.createElement("td");C.className="standartTreeImage";var y=this._getImg(this.timgen?t.id:this.rootId);y.onmousedown=this._preventNsDrag;y.ondragstart=this._preventNsDrag;y.border="0";if(this._aimgs){y.parentObject=t;if(y.tagName=="IMG"){y.align="absmiddle"}y.onclick=this.onRowSelect}if(!w){this._setSrc(y,this.iconURL+this.imageArray[0])}C.appendChild(y);y.style.padding=0;y.style.margin=0;if(this.timgen){C.style.width=y.style.width=this.def_img_x;y.style.height=this.def_img_y}else{y.style.width="0px";y.style.height="0px";if(_isOpera||window._KHTMLrv){C.style.display="none"}}var D=document.createElement("td");D.className="standartTreeRow";t.span=document.createElement("span");t.span.className="standartTreeRow";if(this.mlitems){t.span.style.width=this.mlitems;t.span.style.display="block"}else{D.noWrap=true}if(_isIE&&_isIE>7){D.style.width="999999px"}else{if(!window._KHTMLrv){D.style.width="100%"}}t.span.innerHTML=t.label;D.appendChild(t.span);D.parentObject=t;A.parentObject=t;D.onclick=this.onRowSelect;A.onclick=this.onRowClick;D.ondblclick=this.onRowClick2;if(this.ettip){u.title=t.label}if(this.dragAndDropOff){if(this._aimgs){this.dragger.addDraggableItem(C,this);C.parentObject=t}this.dragger.addDraggableItem(D,this)}t.span.style.paddingLeft="5px";t.span.style.paddingRight="5px";D.style.verticalAlign="";D.style.fontSize="10pt";D.style.cursor=this.style_pointer;u.appendChild(A);u.appendChild(B);u.appendChild(C);u.appendChild(D);x.appendChild(u);r.appendChild(x);if(this.ehlt||this.checkEvent("onMouseIn")||this.checkEvent("onMouseOut")){u.onmousemove=this._itemMouseIn;u[(_isIE)?"onmouseleave":"onmouseout"]=this._itemMouseOut}return r};dhtmlXTreeObject.prototype.setImagePath=function(c){this.imPath=c;this.iconURL=c};dhtmlXTreeObject.prototype.setIconPath=function(c){this.iconURL=c};dhtmlXTreeObject.prototype.setOnRightClickHandler=function(c){this.attachEvent("onRightClick",c)};dhtmlXTreeObject.prototype.setOnClickHandler=function(c){this.attachEvent("onClick",c)};dhtmlXTreeObject.prototype.setOnSelectStateChange=function(c){this.attachEvent("onSelect",c)};dhtmlXTreeObject.prototype.setXMLAutoLoading=function(c){this.XMLsource=c};dhtmlXTreeObject.prototype.setOnCheckHandler=function(c){this.attachEvent("onCheck",c)};dhtmlXTreeObject.prototype.setOnOpenHandler=function(c){this.attachEvent("onOpenStart",c)};dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(c){this.attachEvent("onOpenStart",c)};dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(c){this.attachEvent("onOpenEnd",c)};dhtmlXTreeObject.prototype.setOnDblClickHandler=function(c){this.attachEvent("onDblClick",c)};dhtmlXTreeObject.prototype.openAllItems=function(f){var d=this._globalIdStorageFind(f);if(!d){return 0}this._xopenAll(d)};dhtmlXTreeObject.prototype.getOpenState=function(f){var d=this._globalIdStorageFind(f);if(!d){return""}return this._getOpenState(d)};dhtmlXTreeObject.prototype.closeAllItems=function(f){if(f===window.undefined){f=this.rootId}var d=this._globalIdStorageFind(f);if(!d){return 0}this._xcloseAll(d);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};dhtmlXTreeObject.prototype.setUserData=function(j,l,k){var h=this._globalIdStorageFind(j,0,true);if(!h){return}if(l=="hint"){h.htmlNode.childNodes[0].childNodes[0].title=k}if(typeof(h.userData["t_"+l])=="undefined"){if(!h._userdatalist){h._userdatalist=l}else{h._userdatalist+=","+l}}h.userData["t_"+l]=k};dhtmlXTreeObject.prototype.getUserData=function(h,j){var f=this._globalIdStorageFind(h,0,true);if(!f){return}return f.userData["t_"+j]};dhtmlXTreeObject.prototype.getItemColor=function(h){var f=this._globalIdStorageFind(h);if(!f){return 0}var j=new Object();if(f.acolor){j.acolor=f.acolor}if(f.scolor){j.scolor=f.scolor}return j};dhtmlXTreeObject.prototype.setItemColor=function(k,l,j){if((k)&&(k.span)){var h=k}else{var h=this._globalIdStorageFind(k)}if(!h){return 0}else{if(h.i_sel){if(j){h.span.style.color=j}}else{if(l){h.span.style.color=l}}if(j){h.scolor=j}if(l){h.acolor=l}}};dhtmlXTreeObject.prototype.getItemText=function(f){var d=this._globalIdStorageFind(f);if(!d){return 0}return(d.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML)};dhtmlXTreeObject.prototype.getParentId=function(f){var d=this._globalIdStorageFind(f);if((!d)||(!d.parentObject)){return""}return d.parentObject.id};dhtmlXTreeObject.prototype.changeItemId=function(j,h){if(j==h){return}var f=this._globalIdStorageFind(j);if(!f){return 0}f.id=h;f.span.contextMenuId=h;this._idpull[h]=this._idpull[j];delete this._idpull[j]};dhtmlXTreeObject.prototype.doCut=function(){if(this.nodeCut){this.clearCut()}this.nodeCut=(new Array()).concat(this._selected);for(var d=0;d<this.nodeCut.length;d++){var f=this.nodeCut[d];f._cimgs=new Array();f._cimgs[0]=f.images[0];f._cimgs[1]=f.images[1];f._cimgs[2]=f.images[2];f.images[0]=f.images[1]=f.images[2]=this.cutImage;this._correctPlus(f)}};dhtmlXTreeObject.prototype.doPaste=function(h){var f=this._globalIdStorageFind(h);if(!f){return 0}for(var j=0;j<this.nodeCut.length;j++){if(this._checkPNodes(f,this.nodeCut[j])){continue}this._moveNode(this.nodeCut[j],f)}this.clearCut()};dhtmlXTreeObject.prototype.clearCut=function(){for(var d=0;d<this.nodeCut.length;d++){var f=this.nodeCut[d];f.images[0]=f._cimgs[0];f.images[1]=f._cimgs[1];f.images[2]=f._cimgs[2];this._correctPlus(f)}this.nodeCut=new Array()};dhtmlXTreeObject.prototype._moveNode=function(d,f){return this._moveNodeTo(d,f)};dhtmlXTreeObject.prototype._fixNodesCollection=function(n,p){var t=0;var r=0;var o=n.childNodes;var m=n.childsCount-1;if(p==o[m]){return}for(var q=0;q<m;q++){if(o[q]==o[m]){o[q]=o[q+1];o[q+1]=o[m]}}for(var q=0;q<m+1;q++){if(t){var s=o[q];o[q]=t;t=s}else{if(o[q]==p){t=o[q];o[q]=o[m]}}}};dhtmlXTreeObject.prototype._recreateBranch=function(n,r,s,m){var p;var t="";if(s){for(p=0;p<r.childsCount;p++){if(r.childNodes[p]==s){break}}if(p!=0){s=r.childNodes[p-1]}else{t="TOP";s=""}}var o=this._onradh;this._onradh=null;var q=this._attachChildNode(r,n.id,n.label,0,n.images[0],n.images[1],n.images[2],t,0,s);q._userdatalist=n._userdatalist;q.userData=n.userData.clone();q.XMLload=n.XMLload;if(o){this._onradh=o;this._onradh(q.id)}for(var p=0;p<n.childsCount;p++){this._recreateBranch(n.childNodes[p],q,0,1)}return q};dhtmlXTreeObject.prototype._moveNodeTo=function(t,c,u){if(t.treeNod._nonTrivialNode){return t.treeNod._nonTrivialNode(this,c,u,t)}if(c.mytype){var y=(t.treeNod.lWin!=c.lWin)}else{var y=(t.treeNod.lWin!=c.treeNod.lWin)}if(!this.callEvent("onDrag",[t.id,c.id,(u?u.id:null),t.treeNod,c.treeNod])){return false}if((c.XMLload==0)&&(this.XMLsource)){c.XMLload=1;this._loadDynXML(c.id)}this.openItem(c.id);var C=t.treeNod;var w=t.parentObject.childsCount;var v=t.parentObject;if((y)||(C.dpcpy)){var B=t.id;t=this._recreateBranch(t,c,u);if(!C.dpcpy){C.deleteItem(B)}}else{var A=c.childsCount;var s=c.childNodes;if(A==0){c._open=true}C._unselectItem(t);s[A]=t;t.treeNod=c.treeNod;c.childsCount++;var x=this._drawNewTr(s[A].htmlNode);if(!u){c.htmlNode.childNodes[0].appendChild(x);if(this.dadmode==1){this._fixNodesCollection(c,u)}}else{c.htmlNode.childNodes[0].insertBefore(x,u.tr);this._fixNodesCollection(c,u);s=c.childNodes}}if((!C.dpcpy)&&(!y)){var D=t.tr;if((document.all)&&(navigator.appVersion.search(/MSIE\ 5\.0/gi)!=-1)){window.setTimeout(function(){D.parentNode.removeChild(D)},250)}else{t.parentObject.htmlNode.childNodes[0].removeChild(t.tr)}if((!u)||(c!=t.parentObject)){for(var z=0;z<v.childsCount;z++){if(v.childNodes[z].id==t.id){v.childNodes[z]=0;break}}}else{v.childNodes[v.childsCount-1]=0}C._compressChildList(v.childsCount,v.childNodes);v.childsCount--}if((!y)&&(!C.dpcpy)){t.tr=x;x.nodem=t;t.parentObject=c;if(C!=c.treeNod){if(t.treeNod._registerBranch(t,C)){return}this._clearStyles(t);this._redrawFrom(this,t.parentObject)}this._correctPlus(c);this._correctLine(c);this._correctLine(t);this._correctPlus(t);if(u){this._correctPlus(u)}else{if(c.childsCount>=2){this._correctPlus(s[c.childsCount-2]);this._correctLine(s[c.childsCount-2])}}this._correctPlus(s[c.childsCount-1]);if(this.tscheck){this._correctCheckStates(c)}if(C.tscheck){C._correctCheckStates(v)}}if(w>1){C._correctPlus(v.childNodes[w-2]);C._correctLine(v.childNodes[w-2])}C._correctPlus(v);C._correctLine(v);this.callEvent("onDrop",[t.id,c.id,(u?u.id:null),C,c.treeNod]);return t.id};dhtmlXTreeObject.prototype._clearStyles=function(h){if(!h.htmlNode){return}var j=h.htmlNode.childNodes[0].childNodes[0].childNodes[1];var l=j.nextSibling.nextSibling;h.span.innerHTML=h.label;h.i_sel=false;if(h._aimgs){this.dragger.removeDraggableItem(j.nextSibling)}if(this.checkBoxOff){j.childNodes[0].style.display="";j.childNodes[0].onclick=this.onCheckBoxClick;this._setSrc(j.childNodes[0],this.imPath+this.checkArray[h.checkstate])}else{j.childNodes[0].style.display="none"}j.childNodes[0].treeNod=this;this.dragger.removeDraggableItem(l);if(this.dragAndDropOff){this.dragger.addDraggableItem(l,this)}if(this._aimgs){this.dragger.addDraggableItem(j.nextSibling,this)}l.childNodes[0].className="standartTreeRow";l.onclick=this.onRowSelect;l.ondblclick=this.onRowClick2;j.previousSibling.onclick=this.onRowClick;this._correctLine(h);this._correctPlus(h);for(var k=0;k<h.childsCount;k++){this._clearStyles(h.childNodes[k])}};dhtmlXTreeObject.prototype._registerBranch=function(j,f){if(f){f._globalIdStorageSub(j.id)}j.id=this._globalIdStorageAdd(j.id,j);j.treeNod=this;for(var h=0;h<j.childsCount;h++){this._registerBranch(j.childNodes[h],f)}return 0};dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(c){this.tscheck=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.setOnMouseInHandler=function(c){this.ehlt=true;this.attachEvent("onMouseIn",c)};dhtmlXTreeObject.prototype.setOnMouseOutHandler=function(c){this.ehlt=true;this.attachEvent("onMouseOut",c)};dhtmlXTreeObject.prototype.enableTreeImages=function(c){this.timgen=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.enableFixedMode=function(c){this.hfMode=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.enableCheckBoxes=function(f,d){this.checkBoxOff=convertStringToBoolean(f);this.cBROf=(!(this.checkBoxOff||convertStringToBoolean(d)))};dhtmlXTreeObject.prototype.setStdImages=function(f,h,j){this.imageArray[0]=f;this.imageArray[1]=h;this.imageArray[2]=j};dhtmlXTreeObject.prototype.enableTreeLines=function(c){this.treeLinesOn=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.setImageArrays=function(n,k,l,m,o,p){switch(n){case"plus":this.plusArray[0]=k;this.plusArray[1]=l;this.plusArray[2]=m;this.plusArray[3]=o;this.plusArray[4]=p;break;case"minus":this.minusArray[0]=k;this.minusArray[1]=l;this.minusArray[2]=m;this.minusArray[3]=o;this.minusArray[4]=p;break}};dhtmlXTreeObject.prototype.openItem=function(f){var d=this._globalIdStorageFind(f);if(!d){return 0}else{return this._openItem(d)}};dhtmlXTreeObject.prototype._openItem=function(d){var f=this._getOpenState(d);if((f<0)||(((this.XMLsource)&&(!d.XMLload)))){if(!this.callEvent("onOpenStart",[d.id,f])){return 0}this._HideShow(d,2);if(this.checkEvent("onOpenEnd")){if(this.onXLE==this._epnFHe){this._epnFHe(this,d.id,true)}if(!this.xmlstate||!this.XMLsource){this.callEvent("onOpenEnd",[d.id,this._getOpenState(d)])}else{this._oie_onXLE.push(this.onXLE);this.onXLE=this._epnFHe}}}else{if(this._srnd){this._HideShow(d,2)}}if(d.parentObject&&!this._skip_open_parent){this._openItem(d.parentObject)}};dhtmlXTreeObject.prototype.closeItem=function(f){if(this.rootId==f){return 0}var d=this._globalIdStorageFind(f);if(!d){return 0}if(d.closeble){this._HideShow(d,1)}};dhtmlXTreeObject.prototype.getLevel=function(f){var d=this._globalIdStorageFind(f);if(!d){return 0}return this._getNodeLevel(d,0)};dhtmlXTreeObject.prototype.setItemCloseable=function(h,f){f=convertStringToBoolean(f);if((h)&&(h.span)){var j=h}else{var j=this._globalIdStorageFind(h)}if(!j){return 0}j.closeble=f};dhtmlXTreeObject.prototype._getNodeLevel=function(d,f){if(d.parentObject){return this._getNodeLevel(d.parentObject,f+1)}return(f)};dhtmlXTreeObject.prototype.hasChildren=function(f){var d=this._globalIdStorageFind(f);if(!d){return 0}else{if((this.XMLsource)&&(!d.XMLload)){return true}else{return d.childsCount}}};dhtmlXTreeObject.prototype._getLeafCount=function(a){var h=0;for(var j=0;j<a.childsCount;j++){if(a.childNodes[j].childsCount==0){h++}}return h};dhtmlXTreeObject.prototype.setItemText=function(j,k,l){var h=this._globalIdStorageFind(j);if(!h){return 0}h.label=k;h.span.innerHTML=k;h.span.parentNode.parentNode.title=l||""};dhtmlXTreeObject.prototype.getItemTooltip=function(f){var d=this._globalIdStorageFind(f);if(!d){return""}return(d.span.parentNode.parentNode._dhx_title||d.span.parentNode.parentNode.title||"")};dhtmlXTreeObject.prototype.refreshItem=function(f){if(!f){f=this.rootId}var d=this._globalIdStorageFind(f);this.deleteChildItems(f);this._loadDynXML(f)};dhtmlXTreeObject.prototype.setItemImage2=function(l,j,k,m){var n=this._globalIdStorageFind(l);if(!n){return 0}n.images[1]=k;n.images[2]=m;n.images[0]=j;this._correctPlus(n)};dhtmlXTreeObject.prototype.setItemImage=function(k,h,j){var l=this._globalIdStorageFind(k);if(!l){return 0}if(j){l.images[1]=h;l.images[2]=j}else{l.images[0]=h}this._correctPlus(l)};dhtmlXTreeObject.prototype.getSubItems=function(h){var f=this._globalIdStorageFind(h,0,1);if(!f){return 0}var j="";for(i=0;i<f.childsCount;i++){if(!j){j=f.childNodes[i].id}else{j+=this.dlmtr+f.childNodes[i].id}}return j};dhtmlXTreeObject.prototype._getAllScraggyItems=function(k){var j="";for(var l=0;l<k.childsCount;l++){if((k.childNodes[l].unParsed)||(k.childNodes[l].childsCount>0)){if(k.childNodes[l].unParsed){var h=this._getAllScraggyItemsXML(k.childNodes[l].unParsed,1)}else{var h=this._getAllScraggyItems(k.childNodes[l])}if(h){if(j){j+=this.dlmtr+h}else{j=h}}}else{if(!j){j=k.childNodes[l].id}else{j+=this.dlmtr+k.childNodes[l].id}}}return j};dhtmlXTreeObject.prototype._getAllFatItems=function(k){var j="";for(var l=0;l<k.childsCount;l++){if((k.childNodes[l].unParsed)||(k.childNodes[l].childsCount>0)){if(!j){j=k.childNodes[l].id}else{j+=this.dlmtr+k.childNodes[l].id}if(k.childNodes[l].unParsed){var h=this._getAllFatItemsXML(k.childNodes[l].unParsed,1)}else{var h=this._getAllFatItems(k.childNodes[l])}if(h){j+=this.dlmtr+h}}}return j};dhtmlXTreeObject.prototype._getAllSubItems=function(l,m,n){if(n){p=n}else{var p=this._globalIdStorageFind(l)}if(!p){return 0}m="";for(var o=0;o<p.childsCount;o++){if(!m){m=p.childNodes[o].id}else{m+=this.dlmtr+p.childNodes[o].id}var k=this._getAllSubItems(0,m,p.childNodes[o]);if(k){m+=this.dlmtr+k}}return m};dhtmlXTreeObject.prototype.selectItem=function(l,m,n){m=convertStringToBoolean(m);var j=this._globalIdStorageFind(l);if((!j)||(!j.parentObject)){return 0}if(this.XMLloadingWarning){j.parentObject.openMe=1}else{this._openItem(j.parentObject)}var k=null;if(n){k=new Object;k.ctrlKey=true;if(j.i_sel){k.skipUnSel=true}}if(m){this.onRowSelect(k,j.htmlNode.childNodes[0].childNodes[0].childNodes[3],false)}else{this.onRowSelect(k,j.htmlNode.childNodes[0].childNodes[0].childNodes[3],true)}};dhtmlXTreeObject.prototype.getSelectedItemText=function(){var f=new Array();for(var d=0;d<this._selected.length;d++){f[d]=this._selected[d].span.innerHTML}return(f.join(this.dlmtr))};dhtmlXTreeObject.prototype._compressChildList=function(f,h){f--;for(var j=0;j<f;j++){if(h[j]==0){h[j]=h[j+1];h[j+1]=0}}};dhtmlXTreeObject.prototype._deleteNode=function(p,r,n){if((!r)||(!r.parentObject)){return 0}var v=0;var u=0;if(r.tr.nextSibling){v=r.tr.nextSibling.nodem}if(r.tr.previousSibling){u=r.tr.previousSibling.nodem}var q=r.parentObject;var t=q.childsCount;var o=q.childNodes;for(var s=0;s<t;s++){if(o[s].id==p){if(!n){q.htmlNode.childNodes[0].removeChild(o[s].tr)}o[s]=0;break}}this._compressChildList(t,o);if(!n){q.childsCount--}if(v){this._correctPlus(v);this._correctLine(v)}if(u){this._correctPlus(u);this._correctLine(u)}if(this.tscheck){this._correctCheckStates(q)}if(!n){this._globalIdStorageRecSub(r)}};dhtmlXTreeObject.prototype.setCheck=function(h,j){var f=this._globalIdStorageFind(h,0,1);if(!f){return}if(j==="unsure"){this._setCheck(f,j)}else{j=convertStringToBoolean(j);if((this.tscheck)&&(this.smcheck)){this._setSubChecked(j,f)}else{this._setCheck(f,j)}}if(this.smcheck){this._correctCheckStates(f.parentObject)}};dhtmlXTreeObject.prototype._setCheck=function(h,k){if(!h){return}if(((h.parentObject._r_logic)||(this._frbtr))&&(k)){if(this._frbtrs){if(this._frbtrL){this.setCheck(this._frbtrL.id,0)}this._frbtrL=h}else{for(var l=0;l<h.parentObject.childsCount;l++){this._setCheck(h.parentObject.childNodes[l],0)}}}var j=h.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(k=="unsure"){h.checkstate=2}else{if(k){h.checkstate=1}else{h.checkstate=0}}if(h.dscheck){h.checkstate=h.dscheck}this._setSrc(j,this.imPath+((h.parentObject._r_logic||this._frbtr)?this.radioArray:this.checkArray)[h.checkstate])};dhtmlXTreeObject.prototype.setSubChecked=function(h,j){var f=this._globalIdStorageFind(h);this._setSubChecked(j,f);this._correctCheckStates(f.parentObject)};dhtmlXTreeObject.prototype._setSubChecked=function(k,h){k=convertStringToBoolean(k);if(!h){return}if(((h.parentObject._r_logic)||(this._frbtr))&&(k)){for(var l=0;l<h.parentObject.childsCount;l++){this._setSubChecked(0,h.parentObject.childNodes[l])}}if(h._r_logic||this._frbtr){this._setSubChecked(k,h.childNodes[0])}else{for(var l=0;l<h.childsCount;l++){this._setSubChecked(k,h.childNodes[l])}}var j=h.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(k){h.checkstate=1}else{h.checkstate=0}if(h.dscheck){h.checkstate=h.dscheck}this._setSrc(j,this.imPath+((h.parentObject._r_logic||this._frbtr)?this.radioArray:this.checkArray)[h.checkstate])};dhtmlXTreeObject.prototype.isItemChecked=function(f){var d=this._globalIdStorageFind(f);if(!d){return}return d.checkstate};dhtmlXTreeObject.prototype.deleteChildItems=function(j){var h=this._globalIdStorageFind(j);if(!h){return}var l=h.childsCount;for(var k=0;k<l;k++){this._deleteNode(h.childNodes[0].id,h.childNodes[0])}};dhtmlXTreeObject.prototype.deleteItem=function(h,f){if((!this._onrdlh)||(this._onrdlh(h))){var j=this._deleteItem(h,f)}this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};dhtmlXTreeObject.prototype._deleteItem=function(l,p,m){p=convertStringToBoolean(p);var k=this._globalIdStorageFind(l);if(!k){return}var o=this.getParentId(l);var n=k.parentObject;this._deleteNode(l,k,m);this._correctPlus(n);this._correctLine(n);if((p)&&(o!=this.rootId)){this.selectItem(o,1)}return n};dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(f){for(var j=0;j<f.childsCount;j++){this._globalIdStorageRecSub(f.childNodes[j]);this._globalIdStorageSub(f.childNodes[j].id)}this._globalIdStorageSub(f.id);var h=f;h.span=null;h.tr.nodem=null;h.tr=null;h.htmlNode=null};dhtmlXTreeObject.prototype.insertNewNext=function(s,p,q,x,u,v,w,y,z){var t=this._globalIdStorageFind(s);if((!t)||(!t.parentObject)){return(0)}var r=this._attachChildNode(0,p,q,x,u,v,w,y,z,t);return r};dhtmlXTreeObject.prototype.getItemIdByIndex=function(h,f){var j=this._globalIdStorageFind(h);if((!j)||(f>=j.childsCount)){return null}return j.childNodes[f].id};dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(h,f){var j=this._globalIdStorageFind(h);if((!j)||(f>=j.childsCount)){return null}return j.childNodes[f].id};dhtmlXTreeObject.prototype.setDragHandler=function(c){this.attachEvent("onDrag",c)};dhtmlXTreeObject.prototype._clearMove=function(){if(this._lastMark){this._lastMark.className=this._lastMark.className.replace(/dragAndDropRow/g,"");this._lastMark=null}this.allTree.className=this.allTree.className.replace(" selectionBox","")};dhtmlXTreeObject.prototype.enableDragAndDrop=function(f,d){if(f=="temporary_disabled"){this.dADTempOff=false;f=true}else{this.dADTempOff=true}this.dragAndDropOff=convertStringToBoolean(f);if(this.dragAndDropOff){this.dragger.addDragLanding(this.allTree,this)}if(arguments.length>1){this._ddronr=(!convertStringToBoolean(d))}};dhtmlXTreeObject.prototype._setMove=function(m,o,l){if(m.parentObject.span){var n=getAbsoluteTop(m);var p=getAbsoluteTop(this.allTree)-this.allTree.scrollTop;this.dadmodec=this.dadmode;this.dadmodefix=0;var k=m.parentObject.span;k.className+=" dragAndDropRow";this._lastMark=k;this._autoScroll(null,n,p)}};dhtmlXTreeObject.prototype._autoScroll=function(h,j,f){if(this.autoScroll){if(h){j=getAbsoluteTop(h);f=getAbsoluteTop(this.allTree)}if((j-f-parseInt(this.allTree.scrollTop))>(parseInt(this.allTree.offsetHeight)-50)){this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20}if((j-f)<(parseInt(this.allTree.scrollTop)+30)){this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20}}};dhtmlXTreeObject.prototype._createDragNode=function(m,n){if(!this.dADTempOff){return null}var o=m.parentObject;if(!this.callEvent("onBeforeDrag",[o.id])){return null}if(!o.i_sel){this._selectItem(o,n)}var p=document.createElement("div");var l=new Array();if(this._itim_dg){for(var k=0;k<this._selected.length;k++){l[k]="<table cellspacing='0' cellpadding='0'><tr><td><img width='18px' height='18px' src='"+this._getSrc(this._selected[k].span.parentNode.previousSibling.childNodes[0])+"'></td><td>"+this._selected[k].span.innerHTML+"</td></tr></table>"}}else{l=this.getSelectedItemText().split(this.dlmtr)}p.innerHTML=l.join("");p.style.position="absolute";p.className="dragSpanDiv";this._dragged=(new Array()).concat(this._selected);return p};dhtmlXTreeObject.prototype._focusNode=function(d){var f=getAbsoluteTop(d.htmlNode)-getAbsoluteTop(this.allTree);if((f>(this.allTree.scrollTop+this.allTree.offsetHeight-30))||(f<this.allTree.scrollTop)){this.allTree.scrollTop=f}};dhtmlXTreeObject.prototype._preventNsDrag=function(c){if((c)&&(c.preventDefault)){c.preventDefault();return false}return false};dhtmlXTreeObject.prototype._drag=function(o,n,m){if(this._autoOpenTimer){clearTimeout(this._autoOpenTimer)}if(!m.parentObject){m=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];this.dadmodec=0}this._clearMove();var p=o.parentObject.treeNod;if((p)&&(p._clearMove)){p._clearMove("")}if((!this.dragMove)||(this.dragMove())){if((!p)||(!p._clearMove)||(!p._dragged)){var r=new Array(o.parentObject)}else{var r=p._dragged}var t=m.parentObject;for(var q=0;q<r.length;q++){var s=this._moveNode(r[q],t);if((this.dadmodec)&&(s!==false)){t=this._globalIdStorageFind(s,true,true)}if((s)&&(!this._sADnD)){this.selectItem(s,0,1)}}}if(p){p._dragged=new Array()}};dhtmlXTreeObject.prototype._dragIn=function(p,r,n,m){if(!this.dADTempOff){return 0}var o=r.parentObject;var t=p.parentObject;if((!t)&&(this._ddronr)){return}if(!this.callEvent("onDragIn",[o.id,t?t.id:null,o.treeNod,this])){if(t){this._autoScroll(p)}return 0}if(!t){this.allTree.className+=" selectionBox"}else{if(o.childNodes==null){this._setMove(p,n,m);return p}var q=o.treeNod;for(var s=0;s<q._dragged.length;s++){if(this._checkPNodes(t,q._dragged[s])){this._autoScroll(p);return 0}}this._setMove(p,n,m);if(this._getOpenState(t)<=0){this._autoOpenId=t.id;this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1000)}}return p};dhtmlXTreeObject.prototype._autoOpenItem=function(f,d){d.openItem(d._autoOpenId)};dhtmlXTreeObject.prototype._dragOut=function(c){this._clearMove();if(this._autoOpenTimer){clearTimeout(this._autoOpenTimer)}};dhtmlXTreeObject.prototype.moveItem=function(n,o,s,t){var m=this._globalIdStorageFind(n);if(!m){return(0)}switch(o){case"right":alert("Not supported yet");break;case"item_child":var q=(t||this)._globalIdStorageFind(s);if(!q){return(0)}(t||this)._moveNodeTo(m,q,0);break;case"item_sibling":var q=(t||this)._globalIdStorageFind(s);if(!q){return(0)}(t||this)._moveNodeTo(m,q.parentObject,q);break;case"item_sibling_next":var q=(t||this)._globalIdStorageFind(s);if(!q){return(0)}if((q.tr)&&(q.tr.nextSibling)&&(q.tr.nextSibling.nodem)){(t||this)._moveNodeTo(m,q.parentObject,q.tr.nextSibling.nodem)}else{(t||this)._moveNodeTo(m,q.parentObject)}break;case"left":if(m.parentObject.parentObject){this._moveNodeTo(m,m.parentObject.parentObject,m.parentObject)}break;case"up":var p=this._getPrevNode(m);if((p==-1)||(!p.parentObject)){return}this._moveNodeTo(m,p.parentObject,p);break;case"up_strict":var p=this._getIndex(m);if(p!=0){this._moveNodeTo(m,m.parentObject,m.parentObject.childNodes[p-1])}break;case"down_strict":var p=this._getIndex(m);var r=m.parentObject.childsCount-2;if(p==r){this._moveNodeTo(m,m.parentObject)}else{if(p<r){this._moveNodeTo(m,m.parentObject,m.parentObject.childNodes[p+2])}}break;case"down":var p=this._getNextNode(this._lastChild(m));if((p==-1)||(!p.parentObject)){return}if(p.parentObject==m.parentObject){var p=this._getNextNode(p)}if(p==-1){this._moveNodeTo(m,m.parentObject)}else{if((p==-1)||(!p.parentObject)){return}this._moveNodeTo(m,p.parentObject,p)}break}if(_isIE&&_isIE<8){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"}};dhtmlXTreeObject.prototype._loadDynXML=function(h,j){j=j||this.XMLsource;var f=(new Date()).valueOf();this._ld_id=h;this.loadXML(j+getUrlSymbol(j)+"uid="+f+"&id="+this._escape(h))};dhtmlXTreeObject.prototype._checkPNodes=function(f,d){if(d==f){return 1}if(f.parentObject){return this._checkPNodes(f.parentObject,d)}else{return 0}};dhtmlXTreeObject.prototype.preventIECaching=function(c){this.no_cashe=convertStringToBoolean(c);this.XMLLoader.rSeed=this.no_cashe};dhtmlXTreeObject.prototype.preventIECashing=dhtmlXTreeObject.prototype.preventIECaching;dhtmlXTreeObject.prototype.disableCheckbox=function(h,j){if(typeof(h)!="object"){var f=this._globalIdStorageFind(h,0,1)}else{var f=h}if(!f){return}f.dscheck=convertStringToBoolean(j)?(((f.checkstate||0)%3)+3):((f.checkstate>2)?(f.checkstate-3):f.checkstate);this._setCheck(f);if(f.dscheck<3){f.dscheck=false}};dhtmlXTreeObject.prototype.setEscapingMode=function(c){this.utfesc=c};dhtmlXTreeObject.prototype.enableHighlighting=function(c){this.ehlt=true;this.ehlta=convertStringToBoolean(c)};dhtmlXTreeObject.prototype._itemMouseOut=function(){var f=this.childNodes[3].parentObject;var d=f.treeNod;d.callEvent("onMouseOut",[f.id]);if(f.id==d._l_onMSI){d._l_onMSI=null}if(!d.ehlta){return}f.span.className=f.span.className.replace("_lor","")};dhtmlXTreeObject.prototype._itemMouseIn=function(){var f=this.childNodes[3].parentObject;var d=f.treeNod;if(d._l_onMSI!=f.id){d.callEvent("onMouseIn",[f.id])}d._l_onMSI=f.id;if(!d.ehlta){return}f.span.className=f.span.className.replace("_lor","");f.span.className=f.span.className.replace(/((standart|selected)TreeRow)/,"$1_lor")};dhtmlXTreeObject.prototype.enableActiveImages=function(c){this._aimgs=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.focusItem=function(f){var d=this._globalIdStorageFind(f);if(!d){return(0)}this._focusNode(d)};dhtmlXTreeObject.prototype.getAllSubItems=function(c){return this._getAllSubItems(c)};dhtmlXTreeObject.prototype.getAllChildless=function(){return this._getAllScraggyItems(this.htmlNode)};dhtmlXTreeObject.prototype.getAllLeafs=dhtmlXTreeObject.prototype.getAllChildless;dhtmlXTreeObject.prototype._getAllScraggyItems=function(k){var j="";for(var l=0;l<k.childsCount;l++){if((k.childNodes[l].unParsed)||(k.childNodes[l].childsCount>0)){if(k.childNodes[l].unParsed){var h=this._getAllScraggyItemsXML(k.childNodes[l].unParsed,1)}else{var h=this._getAllScraggyItems(k.childNodes[l])}if(h){if(j){j+=this.dlmtr+h}else{j=h}}}else{if(!j){j=k.childNodes[l].id}else{j+=this.dlmtr+k.childNodes[l].id}}}return j};dhtmlXTreeObject.prototype._getAllFatItems=function(k){var j="";for(var l=0;l<k.childsCount;l++){if((k.childNodes[l].unParsed)||(k.childNodes[l].childsCount>0)){if(!j){j=k.childNodes[l].id}else{j+=this.dlmtr+k.childNodes[l].id}if(k.childNodes[l].unParsed){var h=this._getAllFatItemsXML(k.childNodes[l].unParsed,1)}else{var h=this._getAllFatItems(k.childNodes[l])}if(h){j+=this.dlmtr+h}}}return j};dhtmlXTreeObject.prototype.getAllItemsWithKids=function(){return this._getAllFatItems(this.htmlNode)};dhtmlXTreeObject.prototype.getAllFatItems=dhtmlXTreeObject.prototype.getAllItemsWithKids;dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)};dhtmlXTreeObject.prototype.getAllUnchecked=function(c){if(c){c=this._globalIdStorageFind(c)}return this._getAllChecked(c,"",0)};dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)};dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var c=this._getAllChecked("","",1);if(c!=""){c+=this.dlmtr}return c+this._getAllChecked("","",2)};dhtmlXTreeObject.prototype._getAllChecked=function(l,m,k){if(!l){l=this.htmlNode}if(l.checkstate==k){if(!l.nocheckbox){if(m){m+=this.dlmtr+l.id}else{m=l.id}}}var j=l.childsCount;for(var n=0;n<j;n++){m=this._getAllChecked(l.childNodes[n],m,k)}if(m){return m}else{return""}};dhtmlXTreeObject.prototype.setItemStyle=function(j,k,l){var l=l||false;var h=this._globalIdStorageFind(j);if(!h){return 0}if(!h.span.style.cssText){h.span.setAttribute("style",h.span.getAttribute("style")+"; "+k)}else{h.span.style.cssText=l?k:h.span.style.cssText+";"+k}};dhtmlXTreeObject.prototype.enableImageDrag=function(c){this._itim_dg=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.setOnDragIn=function(c){this.attachEvent("onDragIn",c)};dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(c){this.autoScroll=convertStringToBoolean(c)};dhtmlXTreeObject.prototype.setSkin=function(d){var f=this.parentObject.className.replace(/dhxtree_[^ ]*/gi,"");this.parentObject.className=f+" dhxtree_"+d};(function(){dhtmlx.extend_api("dhtmlXTreeObject",{_init:function(c){return[c.parent,(c.width||"100%"),(c.height||"100%"),(c.root_id||0)]},auto_save_selection:"enableAutoSavingSelected",auto_tooltip:"enableAutoTooltips",checkbox:"enableCheckBoxes",checkbox_3_state:"enableThreeStateCheckboxes",checkbox_smart:"enableSmartCheckboxes",context_menu:"enableContextMenu",distributed_parsing:"enableDistributedParsing",drag:"enableDragAndDrop",drag_copy:"enableMercyDrag",drag_image:"enableImageDrag",drag_scroll:"enableDragAndDropScrolling",editor:"enableItemEditor",hover:"enableHighlighting",images:"enableTreeImages",image_fix:"enableIEImageFix",image_path:"setImagePath",lines:"enableTreeLines",loading_item:"enableLoadingItem",multiline:"enableMultiLineItems",multiselect:"enableMultiselection",navigation:"enableKeyboardNavigation",radio:"enableRadioButtons",radio_single:"enableSingleRadioMode",rtl:"enableRTL",search:"enableKeySearch",smart_parsing:"enableSmartXMLParsing",smart_rendering:"enableSmartRendering",text_icons:"enableTextSigns",xml:"loadXML",skin:"setSkin"},{})})();var SWFUpload;if(SWFUpload==undefined){SWFUpload=function(c){this.initSWFUpload(c)}}SWFUpload.prototype.initSWFUpload=function(f){try{this.customSettings={};this.settings=f;this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings();this.loadFlash();this.displayDebugInfo()}catch(d){delete SWFUpload.instances[this.movieName];throw d}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.2.0 2009-03-25";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.completeURL=function(f){if(typeof(f)!=="string"||f.match(/^https?:\/\//i)||f.match(/^\//)){return f}var h=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var j=window.location.pathname.lastIndexOf("/");if(j<=0){path="/"}else{path=window.location.pathname.substr(0,j)+"/"}return path+f};SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(f,d){this.settings[f]=(this.settings[f]==undefined)?d:this.settings[f]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(!!this.settings.prevent_swf_caching){this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+new Date().getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}delete this.ensureDefault};SWFUpload.prototype.loadFlash=function(){var d,f;if(document.getElementById(this.movieName)!==null){throw"ID "+this.movieName+" is already in use. The Flash Object could not be added"}d=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(d==undefined){throw"Could not find the placeholder element: "+this.settings.button_placeholder_id}f=document.createElement("div");f.innerHTML=this.getFlashHTML();d.parentNode.replaceChild(f.firstChild,d);if(window[this.movieName]==undefined){window[this.movieName]=this.getMovieElement()}};SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};SWFUpload.prototype.getFlashVars=function(){var f=this.buildParamString();var d=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(d),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(f),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==undefined){this.movieElement=document.getElementById(this.movieName)}if(this.movieElement===null){throw"Could not find Flash element"}return this.movieElement};SWFUpload.prototype.buildParamString=function(){var h=this.settings.post_params;var j=[];if(typeof(h)==="object"){for(var f in h){if(h.hasOwnProperty(f)){j.push(encodeURIComponent(f.toString())+"="+encodeURIComponent(h[f].toString()))}}}return j.join("&amp;")};SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,false);var j=null;j=this.getMovieElement();if(j&&typeof(j.CallFunction)==="unknown"){for(var m in j){try{if(typeof(j[m])==="function"){j[m]=null}}catch(k){}}try{j.parentNode.removeChild(j)}catch(n){}}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieElement=null;this.settings=null;this.customSettings=null;this.eventQueue=null;this.movieName=null;return true}catch(l){return false}};SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",(this.settings.button_placeholder?"Set":"Not Set"),"\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler==="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\n"].join(""))};SWFUpload.prototype.addSetting=function(j,h,f){if(h==undefined){return(this.settings[j]=f)}else{return(this.settings[j]=h)}};SWFUpload.prototype.getSetting=function(c){if(this.settings[c]!=undefined){return this.settings[c]}return""};SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement();var returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>");returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}if(returnValue!=undefined&&typeof returnValue.post==="object"){returnValue=this.unescapeFilePostParams(returnValue)}return returnValue};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(c){this.callFlash("StartUpload",[c])};SWFUpload.prototype.cancelUpload=function(d,f){if(f!==false){f=true}this.callFlash("CancelUpload",[d,f])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(c){this.callFlash("SetStats",[c])};SWFUpload.prototype.getFile=function(c){if(typeof(c)==="number"){return this.callFlash("GetFileByIndex",[c])}else{return this.callFlash("GetFile",[c])}};SWFUpload.prototype.addFileParam=function(f,j,h){return this.callFlash("AddFileParam",[f,j,h])};SWFUpload.prototype.removeFileParam=function(d,f){this.callFlash("RemoveFileParam",[d,f])};SWFUpload.prototype.setUploadURL=function(c){this.settings.upload_url=c.toString();this.callFlash("SetUploadURL",[c])};SWFUpload.prototype.setPostParams=function(c){this.settings.post_params=c;this.callFlash("SetPostParams",[c])};SWFUpload.prototype.addPostParam=function(d,f){this.settings.post_params[d]=f;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(c){delete this.settings.post_params[c];this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.setFileTypes=function(d,f){this.settings.file_types=d;this.settings.file_types_description=f;this.callFlash("SetFileTypes",[d,f])};SWFUpload.prototype.setFileSizeLimit=function(c){this.settings.file_size_limit=c;this.callFlash("SetFileSizeLimit",[c])};SWFUpload.prototype.setFileUploadLimit=function(c){this.settings.file_upload_limit=c;this.callFlash("SetFileUploadLimit",[c])};SWFUpload.prototype.setFileQueueLimit=function(c){this.settings.file_queue_limit=c;this.callFlash("SetFileQueueLimit",[c])};SWFUpload.prototype.setFilePostName=function(c){this.settings.file_post_name=c;this.callFlash("SetFilePostName",[c])};SWFUpload.prototype.setUseQueryString=function(c){this.settings.use_query_string=c;this.callFlash("SetUseQueryString",[c])};SWFUpload.prototype.setRequeueOnError=function(c){this.settings.requeue_on_error=c;this.callFlash("SetRequeueOnError",[c])};SWFUpload.prototype.setHTTPSuccess=function(c){if(typeof c==="string"){c=c.replace(" ","").split(",")}this.settings.http_success=c;this.callFlash("SetHTTPSuccess",[c])};SWFUpload.prototype.setAssumeSuccessTimeout=function(c){this.settings.assume_success_timeout=c;this.callFlash("SetAssumeSuccessTimeout",[c])};SWFUpload.prototype.setDebugEnabled=function(c){this.settings.debug_enabled=c;this.callFlash("SetDebugEnabled",[c])};SWFUpload.prototype.setButtonImageURL=function(c){if(c==undefined){c=""}this.settings.button_image_url=c;this.callFlash("SetButtonImageURL",[c])};SWFUpload.prototype.setButtonDimensions=function(h,f){this.settings.button_width=h;this.settings.button_height=f;var j=this.getMovieElement();if(j!=undefined){j.style.width=h+"px";j.style.height=f+"px"}this.callFlash("SetButtonDimensions",[h,f])};SWFUpload.prototype.setButtonText=function(c){this.settings.button_text=c;this.callFlash("SetButtonText",[c])};SWFUpload.prototype.setButtonTextPadding=function(f,d){this.settings.button_text_top_padding=d;this.settings.button_text_left_padding=f;this.callFlash("SetButtonTextPadding",[f,d])};SWFUpload.prototype.setButtonTextStyle=function(c){this.settings.button_text_style=c;this.callFlash("SetButtonTextStyle",[c])};SWFUpload.prototype.setButtonDisabled=function(c){this.settings.button_disabled=c;this.callFlash("SetButtonDisabled",[c])};SWFUpload.prototype.setButtonAction=function(c){this.settings.button_action=c;this.callFlash("SetButtonAction",[c])};SWFUpload.prototype.setButtonCursor=function(c){this.settings.button_cursor=c;this.callFlash("SetButtonCursor",[c])};SWFUpload.prototype.queueEvent=function(j,h){if(h==undefined){h=[]}else{if(!(h instanceof Array)){h=[h]}}var f=this;if(typeof this.settings[j]==="function"){this.eventQueue.push(function(){this.settings[j].apply(this,h)});setTimeout(function(){f.executeNextEvent()},0)}else{if(this.settings[j]!==null){throw"Event handler "+j+" is unknown or is not a function"}}};SWFUpload.prototype.executeNextEvent=function(){var c=this.eventQueue?this.eventQueue.shift():null;if(typeof(c)==="function"){c.apply(this)}};SWFUpload.prototype.unescapeFilePostParams=function(o){var m=/[$]([0-9a-f]{4})/i;var l={};var n;if(o!=undefined){for(var k in o.post){if(o.post.hasOwnProperty(k)){n=k;var p;while((p=m.exec(n))!==null){n=n.replace(p[0],String.fromCharCode(parseInt("0x"+p[1],16)))}l[n]=o.post[k]}}o.post=l}return o};SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(c){return false}};SWFUpload.prototype.flashReady=function(){var c=this.getMovieElement();if(!c){this.debug("Flash called back ready but the flash movie can't be found.");return}this.cleanUp(c);this.queueEvent("swfupload_loaded_handler")};SWFUpload.prototype.cleanUp=function(h){try{if(this.movieElement&&typeof(h.CallFunction)==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var k in h){try{if(typeof(h[k])==="function"){h[k]=null}}catch(l){}}}}catch(j){}window.__flash__removeCallback=function(d,c){try{if(d){d[c]=null}}catch(a){}}};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(c){c=this.unescapeFilePostParams(c);this.queueEvent("file_queued_handler",c)};SWFUpload.prototype.fileQueueError=function(f,h,j){f=this.unescapeFilePostParams(f);this.queueEvent("file_queue_error_handler",[f,h,j])};SWFUpload.prototype.fileDialogComplete=function(j,h,f){this.queueEvent("file_dialog_complete_handler",[j,h,f])};SWFUpload.prototype.uploadStart=function(c){c=this.unescapeFilePostParams(c);this.queueEvent("return_upload_start_handler",c)};SWFUpload.prototype.returnUploadStart=function(d){var f;if(typeof this.settings.upload_start_handler==="function"){d=this.unescapeFilePostParams(d);f=this.settings.upload_start_handler.call(this,d)}else{if(this.settings.upload_start_handler!=undefined){throw"upload_start_handler must be a function"}}if(f===undefined){f=true}f=!!f;this.callFlash("ReturnUploadStart",[f])};SWFUpload.prototype.uploadProgress=function(f,h,j){f=this.unescapeFilePostParams(f);this.queueEvent("upload_progress_handler",[f,h,j])};SWFUpload.prototype.uploadError=function(f,h,j){f=this.unescapeFilePostParams(f);this.queueEvent("upload_error_handler",[f,h,j])};SWFUpload.prototype.uploadSuccess=function(j,f,h){j=this.unescapeFilePostParams(j);this.queueEvent("upload_success_handler",[j,f,h])};SWFUpload.prototype.uploadComplete=function(c){c=this.unescapeFilePostParams(c);this.queueEvent("upload_complete_handler",c)};SWFUpload.prototype.debug=function(c){this.queueEvent("debug_handler",c)};SWFUpload.prototype.debugMessage=function(k){if(this.settings.debug){var h,j=[];if(typeof k==="object"&&typeof k.name==="string"&&typeof k.message==="string"){for(var l in k){if(k.hasOwnProperty(l)){j.push(l+": "+k[l])}}h=j.join("\n")||"";j=h.split("\n");h="EXCEPTION: "+j.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(h)}else{SWFUpload.Console.writeLine(k)}}};SWFUpload.Console={};SWFUpload.Console.writeLine=function(j){var l,h;try{l=document.getElementById("SWFUpload_Console");if(!l){h=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(h);l=document.createElement("textarea");l.id="SWFUpload_Console";l.style.fontFamily="monospace";l.setAttribute("wrap","off");l.wrap="off";l.style.overflow="auto";l.style.width="700px";l.style.height="350px";l.style.margin="5px";h.appendChild(l)}l.value+=j+"\n";l.scrollTop=l.scrollHeight-l.clientHeight}catch(k){alert("Exception: "+k.name+" Message: "+k.message)}};var SWFUpload;if(typeof(SWFUpload)==="function"){SWFUpload.queue={};SWFUpload.prototype.initSettings=(function(c){return function(){if(typeof(c)==="function"){c.call(this)}this.queueSettings={};this.queueSettings.queue_cancelled_flag=false;this.queueSettings.queue_upload_count=0;this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler;this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler;this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler;this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler;this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}})(SWFUpload.prototype.initSettings);SWFUpload.prototype.startUpload=function(c){this.queueSettings.queue_cancelled_flag=false;this.callFlash("StartUpload",[c])};SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=true;this.stopUpload();var c=this.getStats();while(c.files_queued>0){this.cancelUpload();c=this.getStats()}};SWFUpload.queue.uploadStartHandler=function(d){var f;if(typeof(this.queueSettings.user_upload_start_handler)==="function"){f=this.queueSettings.user_upload_start_handler.call(this,d)}f=(f===false)?false:true;this.queueSettings.queue_cancelled_flag=!f;return f};SWFUpload.queue.uploadCompleteHandler=function(l){var k=this.queueSettings.user_upload_complete_handler;var j;if(l.filestatus===SWFUpload.FILE_STATUS.COMPLETE){this.queueSettings.queue_upload_count++}if(typeof(k)==="function"){j=(k.call(this,l)===false)?false:true}else{if(l.filestatus===SWFUpload.FILE_STATUS.QUEUED){j=false}else{j=true}}if(j){var h=this.getStats();if(h.files_queued>0&&this.queueSettings.queue_cancelled_flag===false){this.startUpload()}else{if(this.queueSettings.queue_cancelled_flag===false){this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]);this.queueSettings.queue_upload_count=0}else{this.queueSettings.queue_cancelled_flag=false;this.queueSettings.queue_upload_count=0}}}}}function FileProgress(o,k){this.fileProgressID=o.id;this.opacity=100;this.height=0;this.fileProgressWrapper=document.getElementById(this.fileProgressID);if(!this.fileProgressWrapper){this.fileProgressWrapper=document.createElement("div");this.fileProgressWrapper.className="progressWrapper";this.fileProgressWrapper.id=this.fileProgressID;this.fileProgressElement=document.createElement("div");this.fileProgressElement.className="progressContainer";var l=document.createElement("a");l.className="progressCancel";l.href="#";l.style.visibility="hidden";l.appendChild(document.createTextNode(" "));var p=document.createElement("div");p.className="progressName";p.appendChild(document.createTextNode(o.name));var m=document.createElement("div");m.className="progressBarInProgress";var n=document.createElement("div");n.className="progressBarStatus";n.innerHTML="&nbsp;";this.fileProgressElement.appendChild(l);this.fileProgressElement.appendChild(p);this.fileProgressElement.appendChild(n);this.fileProgressElement.appendChild(m);this.fileProgressWrapper.appendChild(this.fileProgressElement);document.getElementById(k).appendChild(this.fileProgressWrapper)}else{this.fileProgressElement=this.fileProgressWrapper.firstChild;this.reset()}this.height=this.fileProgressWrapper.offsetHeight;this.setTimer(null)}FileProgress.prototype.setTimer=function(c){this.fileProgressElement.FP_TIMER=c};FileProgress.prototype.getTimer=function(c){return this.fileProgressElement.FP_TIMER||null};FileProgress.prototype.reset=function(){this.fileProgressElement.className="progressContainer";this.fileProgressElement.childNodes[2].innerHTML="&nbsp;";this.fileProgressElement.childNodes[2].className="progressBarStatus";this.fileProgressElement.childNodes[3].className="progressBarInProgress";this.fileProgressElement.childNodes[3].style.width="0%";this.appear()};FileProgress.prototype.setProgress=function(c){this.fileProgressElement.className="progressContainer green";this.fileProgressElement.childNodes[3].className="progressBarInProgress";this.fileProgressElement.childNodes[3].style.width=c+"%";this.appear()};FileProgress.prototype.setComplete=function(){this.fileProgressElement.className="progressContainer blue";this.fileProgressElement.childNodes[3].className="progressBarComplete";this.fileProgressElement.childNodes[3].style.width="";var c=this;this.setTimer(setTimeout(function(){c.disappear()},2000))};FileProgress.prototype.setError=function(){this.fileProgressElement.className="progressContainer red";this.fileProgressElement.childNodes[3].className="progressBarError";this.fileProgressElement.childNodes[3].style.width="";var c=this;this.setTimer(setTimeout(function(){c.disappear()},5000))};FileProgress.prototype.setCancelled=function(){this.fileProgressElement.className="progressContainer";this.fileProgressElement.childNodes[3].className="progressBarError";this.fileProgressElement.childNodes[3].style.width="";var c=this;this.setTimer(setTimeout(function(){c.disappear()},2000))};FileProgress.prototype.setStatus=function(c){this.fileProgressElement.childNodes[2].innerHTML=c};FileProgress.prototype.toggleCancel=function(j,h){this.fileProgressElement.childNodes[0].style.visibility=j?"visible":"hidden";if(h){var f=this.fileProgressID;this.fileProgressElement.childNodes[0].onclick=function(){h.cancelUpload(f);return false}}};FileProgress.prototype.appear=function(){if(this.getTimer()!==null){clearTimeout(this.getTimer());this.setTimer(null)}if(this.fileProgressWrapper.filters){try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=100}catch(c){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}}else{this.fileProgressWrapper.style.opacity=1}this.fileProgressWrapper.style.height="";this.height=this.fileProgressWrapper.offsetHeight;this.opacity=100;this.fileProgressWrapper.style.display=""};FileProgress.prototype.disappear=function(){var k=15;var m=4;var n=10;if(this.opacity>0){this.opacity-=k;if(this.opacity<0){this.opacity=0}if(this.fileProgressWrapper.filters){try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=this.opacity}catch(l){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+this.opacity+")"}}else{this.fileProgressWrapper.style.opacity=this.opacity/100}}if(this.height>0){this.height-=m;if(this.height<0){this.height=0}this.fileProgressWrapper.style.height=this.height+"px"}if(this.height>0||this.opacity>0){var j=this;this.setTimer(setTimeout(function(){j.disappear()},n))}else{this.fileProgressWrapper.style.display="none";this.setTimer(null)}};function fileQueued(h){try{var f=new FileProgress(h,this.customSettings.progressTarget);f.setStatus("Pending...");f.toggleCancel(true,this)}catch(j){this.debug(j)}}function fileQueueError(m,k,l){try{if(k===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED){alert("You have attempted to queue too many files.\n"+(l===0?"You have reached the upload limit.":"You may select "+(l>1?"up to "+l+" files.":"one file.")));return}var j=new FileProgress(m,this.customSettings.progressTarget);j.setError();j.toggleCancel(false);switch(k){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:j.setStatus("File is too big.");this.debug("Error Code: File too big, File name: "+m.name+", File size: "+m.size+", Message: "+l);break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:j.setStatus("Cannot upload Zero Byte files.");this.debug("Error Code: Zero byte file, File name: "+m.name+", File size: "+m.size+", Message: "+l);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:j.setStatus("Invalid File Type.");this.debug("Error Code: Invalid File Type, File name: "+m.name+", File size: "+m.size+", Message: "+l);break;default:if(m!==null){j.setStatus("Unhandled Error")}this.debug("Error Code: "+k+", File name: "+m.name+", File size: "+m.size+", Message: "+l);break}}catch(n){this.debug(n)}}function fileDialogComplete(f,h){try{if("undefined"!=typeof UploadAction){UploadAction.setSWFUploadPath()}if(f>0){document.getElementById(this.customSettings.cancelButtonId).disabled=false}showHideQueueBox.call(this,"block");this.startUpload()}catch(j){this.debug(j)}}function showHideQueueBox(j){var h=this.customSettings.queueBox?this.customSettings.queueBox:null;if(h&&document.getElementById(h)){var f=document.getElementById("QueueBox");f.style.display=j}}function uploadStart(h){try{var f=new FileProgress(h,this.customSettings.progressTarget);f.setStatus("Uploading...");f.toggleCancel(true,this)}catch(j){}return true}function uploadProgress(o,l,m){try{var n=Math.ceil((l/m)*100);var k=new FileProgress(o,this.customSettings.progressTarget);k.setProgress(n);k.setStatus("Uploading...")}catch(p){this.debug(p)}}function uploadSuccess(k,m){try{var n=new FileProgress(k,this.customSettings.progressTarget);n.setComplete();n.setStatus("Complete.");n.toggleCancel(false);var j=this;setTimeout(function(){showHideQueueBox.call(j,"none")},3000)}catch(l){this.debug(l)}}function uploadError(m,k,l){try{var j=new FileProgress(m,this.customSettings.progressTarget);j.setError();j.toggleCancel(false);switch(k){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:j.setStatus("Upload Error: "+l);this.debug("Error Code: HTTP Error, File name: "+m.name+", Message: "+l);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:j.setStatus("Upload Failed.");this.debug("Error Code: Upload Failed, File name: "+m.name+", File size: "+m.size+", Message: "+l);break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:j.setStatus("Server (IO) Error");this.debug("Error Code: IO Error, File name: "+m.name+", Message: "+l);break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:j.setStatus("Security Error");this.debug("Error Code: Security Error, File name: "+m.name+", Message: "+l);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:j.setStatus("Upload limit exceeded.");this.debug("Error Code: Upload Limit Exceeded, File name: "+m.name+", File size: "+m.size+", Message: "+l);break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:j.setStatus("Failed Validation.  Upload skipped.");this.debug("Error Code: File Validation Failed, File name: "+m.name+", File size: "+m.size+", Message: "+l);break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:if(this.getStats().files_queued===0){document.getElementById(this.customSettings.cancelButtonId).disabled=true}j.setStatus("Cancelled");j.setCancelled();break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:j.setStatus("Stopped");break;default:j.setStatus("Unhandled Error: "+k);this.debug("Error Code: "+k+", File name: "+m.name+", File size: "+m.size+", Message: "+l);break}}catch(n){this.debug(n)}}function uploadComplete(c){if(this.getStats().files_queued===0){document.getElementById(this.customSettings.cancelButtonId).disabled=true}}function queueComplete(f){var d=document.getElementById("divStatus");d.innerHTML="上传了"+f+"个文件";if("undefined"!=typeof DirAction){DirAction.getDirJSON(UPLOAD.uploadPath)}}var HTMLTemplate={createNewFolderHTML:'<div class="create-newfolder" id="CreateNewFolder"><form action="file" method="get" target="" onsubmit="return FileAction.createFolder(UPLOAD.uploadPath, this.name.value);" target="_blank">名称:<input type="text" size="20" name="name" id="NewFolderName"/><br/><div class="tips" id="CreateNewFolerTips"></div><input type="submit" value="提交" />&nbsp;&nbsp;<a href="javascript:FileAction.hideCreateFolder();" id="CreateNewFolderCancelButton">关闭</a></form></div>',uploadHTML:'<div class="upload-area" id="UploadArea">上传路径：<span id="UploadPathTips"></span>	<div class="fieldset flash" id="fsUploadProgress">			<span class="legend">文件队列</span>	</div>		<span id="divStatus">&nbsp;</span>	<div>		<span id="spanButtonPlaceHolder"></span>		<input id="btnCancel" type="button" value="停止上传" onClick="swfu.cancelQueue();" disabled="disabled"  />		&nbsp;<a href="javascript:UploadAction.hideUploadArea();">关闭</a>	</div></div>',editHTML:'<span><a href="javascript:FileAction.deleteFile(FileAction.tableListTr)" class="edit-delete" title="删除">&nbsp;</a></span><span><a href="javascript:FileAction.setRenameArea(FileAction.tableListTr)" class="edit-rename" title="重命名">&nbsp;</a></span><span><a href="javascript:FileAction.copyFile(FileAction.tableListTr)" class="edit-copy" title="复制">&nbsp;</a></span>',renameHTML:'<input id="Rename" value="" size="30" /><span><a href="javascript:FileAction.renameFile(FileAction.tableListTr, g(\'Rename\').value)">确定</a></span><span><a href="javascript:FileAction.hideRenameArea()">取消</a></span>',helpHTML:'<div id="HelpContent" class="help-content"></div><div class="help-close"><a href="javascript:HelpAction.close()">关闭</a></div>'};var global={DIR_ROOT:"",DIR_PATH:"dir",FILE_PATH:"file",UPLOAD_PATH:"upload",FIEL_WEB_ROOT_URL:"http://ut.baidu.com/",DOC_WEB_ROOT_URL:"http://ut.baidu.com/servlet/ReadWordLocal",FA_LOGIN_URL:"login",OPEN_FILE_REDIRECT:false,OPEN_FOLDER_UPDATE_TREE:true,OPEN_FOLDER_NEW_WINDOW:false};var getExt=function(f){if(f&&f.length>0){var j;var h=f.lastIndexOf(".");if(h!=-1){j=f.substr(h+1)}else{j=""}}return j};var OFFICE_FILE_EXT=["doc","ppt","xls","docx","pptx","xlsx"];var isOfficeFile=function(c){return array.indexOf(OFFICE_FILE_EXT,c)};var getFolderIconCss=function(){return"folder"};var getFileIconCss=function(c){if(c=="folder"){return"folder"}c=c.toLowerCase();switch(c){case"doc":ext="doc";break;case"docx":ext="doc";break;case"xls":ext="xls";break;case"xlsx":ext="xls";break;case"ppt":ext="ppt";break;case"pptx":ext="ppt";break;case"pdf":ext="pdf";break;case"txt":ext="txt";break;case"exe":ext="exe";break;case"html":ext="html";break;case"htm":ext="html";break;case"css":ext="css";break;case"js":ext="js";break;case"swf":ext="swf";break;case"fla":ext="swf";break;case"zip":ext="zip";break;case"rar":ext="rar";break;case"gz":ext="rar";break;case"tar":ext="rar";break;case"gif":ext="gif";break;case"png":ext="png";break;case"jpg":ext="jpg";break;case"mp3":ext="mp3";break;case"wma":ext="mp3";break;case"wav":ext="mp3";break;case"rm":ext="rm";break;default:ext="file"}return ext};var decodeHTML=function(c){if(!c||c.length<=0){return c}c=c.replace(/&amp;/g,"&");c=c.replace(/&#039;/g,"'");c=c.replace(/&quot;/g,'"');c=c.replace(/&lt;/g,"<");c=c.replace(/&gt;/g,">");return c};var encodeURLCharForFlash=function(c){c=c.replace(/&/g,"&amp;");return c};var decodeSpecial=function(c){if(!c||c.length<=0){return c}c=c.replace(/&/g,"&amp;");c=c.replace(/'/g,"&#039;");c=c.replace(/"/g,"&quot;");c=c.replace(/</g,"&lt;");c=c.replace(/>/g,"&gt;");return c};var getSlash=function(f){if(f==null||f.length<=0){return f}var d=f.substring(f.length-1);if(d=="/"||d=="\\"){return""}return"/"};var removeLastSlash=function(f){if(f==null||f.length<=1){return f}var d=f.substring(f.length-1);if(d=="/"||d=="\\"){return f.substr(0,f.length-1)}return f};var getParentPath=function(h){if(h==null||h.length<=0){return h}var j=h;j=removeLastSlash(j);j=replaceSlash(j);var f=j.lastIndexOf("/");if(f!=-1){return j.substr(0,f+1)}return h};var encodeJS=function(c){c=c.replace(/'/g,"'");c=c.replace(/"/g,'"');return c};var encodeforJS=function(c){c=c.replace(/'/g,"\\'");c=c.replace(/"/g,'\\"');return c};var SPECIAL_CHAR=["\\","/",":","*","?",'"',"<",">","|"];var isAvailableName=function(d){if(d==null||d.length<0){return false}var f=/[\\\/:*?\"<>|]+/g;return !f.test(d)};var replaceSlash=function(c){if(c==null||c.length<=0){return c}c=c.replace(/\\/g,"/");return c};var encodeURL=function(m){if(m==null||m.length<=0){return m}var p=m;var n="http://";var r=false;if(m.substr(0,7)==n){r=true;m=(m.substr(7))}if(m.indexOf("\\")!=-1){m=replaceSlash(m)}if(m.indexOf("/")!=-1){var q=[];q=m.split("/");var l=q.length;for(var o=0;o<l;o++){q[o]=encodeURIComponent(q[o])}p=q.join("/");if(r){p=n+q.join("/")}return p}return encodeURIComponent(p)};var createTemplateHTMLContainer=function(){if(!g("TemplateHTMLContainer")){var c=document.createElement("div");c.id="TemplateHTMLContainer";document.body.appendChild(c)}};var getTemplateHTMLContainer=function(){if(g("TemplateHTMLContainer")){return g("TemplateHTMLContainer")}else{createTemplateHTMLContainer();return g("TemplateHTMLContainer")}};var toggleMask=function(j,l){var h=(j&&typeof j=="object")?j:g("mask");if(l!=null&&l.lenght>0){h.style.display=l}else{var k=(h.style.display==""||h.style.display=="none");h.style.display=k?"block":"none"}};var UploadActoin=UploadActoin||{};var DirAction=DirAction||{};var FileAction=FileAction||{};var UploadAction=UploadAction||{};var HelpAction=HelpAction||{};var ErrorMessage=ErrorMessage||{};var MESSAGE=MESSAGE||{};var DIR=DIR||{};var FILE=FILE||{};var UPLOAD=UPLOAD||{};UPLOAD.uploadPath=UPLOAD.uploadPath||"";var Tree=Tree||{};var SWFUP=SWFUP||{};function hasError(){this.showTips=function(l){var j=[];var h=0;for(var k in l){j.push(l[k]+"\r\n");h++}if(h>0){alert(j.join(""));l={};gotoUrl();return true}return false};this.gotoUrl=function(){window.location.replace(global.FA_LOGIN_URL)};return showTips(ErrorMessage)}function Upload(){}Upload.prototype={setSWFUploadPath:function(f){var f=f||UPLOAD.uploadPath;if(SWFUP&&"function"==typeof SWFUP.setPostParams){try{SWFUP.setPostParams({path:f})}catch(d){alert(d.toString())}}},SWFUPsetting:function(){var c={flash_url:"swf/swfupload.swf",upload_url:global.UPLOAD_PATH,file_post_name:"uploads",post_params:{path:(UPLOAD.uploadPath)},file_size_limit:"1024 MB",file_types:"*.*",file_types_description:"All Files",file_upload_limit:100,file_queue_limit:0,custom_settings:{progressTarget:"fsUploadProgress",cancelButtonId:"btnCancel"},debug:false,button_image_url:"img/upload-button.png",button_width:"90",button_height:"24",button_placeholder_id:"spanButtonPlaceHolder",file_queued_handler:fileQueued,file_queue_error_handler:fileQueueError,file_dialog_complete_handler:fileDialogComplete,upload_start_handler:uploadStart,upload_progress_handler:uploadProgress,upload_error_handler:uploadError,upload_success_handler:uploadSuccess,upload_complete_handler:uploadComplete,queue_complete_handler:queueComplete};SWFUP=new SWFUpload(c)},setPosition:function(h,j,f){if(!h){return}h.style.left=j+"px";h.style.top=f+"px"},setUploadHTML:function(){if(!g("UploadArea")){try{var k=HTMLTemplate.uploadHTML;var h=getTemplateHTMLContainer();var j=document.createElement("div");j.innerHTML=k;h.appendChild(j);this.SWFUPsetting()}catch(l){alert(l.toString())}}}};UploadAction=(function(){var n="";var s=new Upload();var r=function(a){s.setSWFUploadPath(a)};var o=function(a){a=a+getSlash(a);UPLOAD.uploadPath=decodeHTML(a)};var m=function(){g("UploadArea").style.display="none";toggleMask()};var t=function(){s.setUploadHTML();if(!g("UploadArea")){return}var c=g("UploadArea");if(c.style.display==""){var d=dom.getPosition(this).left;var a=dom.getPosition(this).top;s.setPosition(c,d,a+20)}q(c);g("UploadPathTips").innerHTML=UPLOAD.uploadPath;g("divStatus").innerHTML="";toggleMask()};var q=function(c){if("object"!=typeof c){return}var a=((c.style.display==""||c.style.display=="none"));c.style.display=a?"block":"none"};var p=function(){event.on(g("UploadFileLink"),"onclick",UploadAction.setUploadHTML)};return{init:p,setUploadPath:o,setUploadHTML:t,hideUploadArea:m,setSWFUploadPath:r}})();UploadAction.init();function Directory(c){this.DIR=c?c:window.DIR;this.html=[];this.FileList=this.FileList?this.FileList:g("FileList");this.FileListContent=this.FileListContent?this.FileListContent:g("FileListContent");this.FileListTitle=this.FileListTitle?this.FileListTitle:g("FileListTitle");this.DirList=this.DirList?this.DirList:g("DirList");this.InfoPanel=this.InfoPanel?this.InfoPanel:g("InfoPanel")}Directory.prototype._setHTML=function(c){this.html=c};Directory.prototype._getHTML=function(){return this.html};Directory.prototype.listDirTree=function(){function c(a,f){DirAction.getDirJSON(a)}Tree=new dhtmlXTreeObject("DirList","100%","100%",0);Tree.parentObject.style.overflow="auto";Tree.setSkin("dhx_skyblue");Tree.enableHighlighting(1);Tree.setImagePath("img/tree/");Tree.enableDragAndDrop(0);Tree.enableTreeLines(false);Tree.setEscapingMode("utf8");Tree.setImageArrays("plus",null,null,null,"plus_ar.gif");Tree.setImageArrays("minus",null,null,null,"minus_ar.gif");Tree.setStdImages("folderClosed.gif","folderOpen.gif","folderClosed.gif");Tree.setXMLAutoLoading("dir!getTree.action");Tree.setOnClickHandler(c);Tree.loadXML("dir!getTree.action",function(){})};Directory.prototype.getDirListHTML=function(x){var p=x?x:this.DIR;var s=[];if(p){var u=p.Folders;var r=u.nameList.length;var t,v,w,d="";var q=new dTree("tree");q.add(0,-1,p.root);for(t=0;t<r;t++){d=p.absolutePath+u.nameList[t];w=u.nameList[t];s.push('<a href="#" onclick="DirAction.getDirJSON(\''+(d)+"');\">"+w+"</a>");q.add(t+1,0,w,"path?")}s.push(q)}this._setHTML(s);return s.join("")};Directory.prototype.getFileAndFolderTheadHTML=function(){return'<table class="file-table-head"><colgroup><col class="table-name"/><col class="table-size"/><col class="table-modified-date"/><col class="table-type"/><col class="table-blank"/></colgroup><tr><th>名称</th><th>大小</th><th>修改日期</th><th>类型</th><th>&nbsp;</th></tr></table>'};Directory.prototype.getFileAndFolderListHTML=function(D){var t=D?D:this.DIR;var s=D.path?D.path:D.absolutePath;UploadAction.setUploadPath(s);var x=[];if(t){var u=t.FilesList;var r=0;var C=target=ext="",B="#",v="";function w(){return'<colgroup><col class="table-name"/><col class="table-size"/><col class="table-modified-date"/><col class="table-type"/><col class="table-blank"/></colgroup>'}function z(a){return""+getFileIconCss(a)}function y(l){var m=l?l:null;if(m==null){return""}var o=m.name;var h=t.relationPath+getSlash(t.relationPath);var n=getExt(o);var c=z(n);var k="";var f="&nbsp;";var a="#";var j="";if(m.type=="folder"){var d="";if(global.FIEL_WEB_ROOT_URL){j="_blank";d=decodeHTML(h)+decodeHTML(o);a=global.FIEL_WEB_ROOT_URL+encodeURL(d);if(global.OPEN_FILE_REDIRECT){a="redir?url="+a}}if(!global.OPEN_FOLDER_NEW_WINDOW){j="";d=decodeHTML(s)+getSlash(s)+decodeHTML(o);a="javascript:DirAction.openFolder('"+encodeforJS(d)+"');"}f="folder";c=getFolderIconCss()}if(m.type!="folder"){a="#";if(global.FIEL_WEB_ROOT_URL){var d=decodeHTML(h)+decodeHTML(o);a=global.FIEL_WEB_ROOT_URL+encodeURL(d);if(global.OPEN_FILE_REDIRECT){a="redir?url="+a}}if(isOfficeFile(n)!=-1&&global.DOC_WEB_ROOT_URL){a=global.DOC_WEB_ROOT_URL+"?file="+encodeURIComponent(decodeHTML(t.absolutePath))+encodeURIComponent(decodeHTML(o))}j="_blank";f=n}k=('<a href="'+a+'" class="'+c+'" target="'+j+'">'+o+"</a>");return"<tr><td>"+k+"</td><td>"+l.length+"</td><td>"+l.date+"</td><td>"+f+"</td><td>&nbsp;</td></tr>"}x.push('<table class="file-table-list" id="FileTableList">');x.push(w());for(var A in u){r++;A=u[A];x.push(y(A))}x.push("</table>")}this._setHTML(x);return x.join("")};Directory.prototype.getFileListHTML=function(s){var t=s?s:this.DIR;var o=[];if(t){var n=t.Files;var m=n.nameList.length;var q,r,p;for(p=0;p<m;p++){q=n.nameList[p];r=global.FILE_PATH+"?path="+encodeURIComponent(q);o.push('<a href="'+r+'">'+q+"</a><br/>")}}this._setHTML(o);return o.join("")};Directory.prototype.getInfoPanelHTML=function(o){var p=o?o:this.DIR;var l=[];if(p&&p.Folders&&p.Files){var m=p.Folders.nameList.length;var n=p.Files.nameList.length;var k=m+n;l.push("<dl><dt>共:  "+k+" 个项目</dt>");l.push("<dd>文件夹: "+m+" 个");l.push(" , 文件: "+n+" 个</dd></dl>");l.push('<dl class="hard-size"><dt>硬盘大小:  '+p.hardPartition.totalSpace+" </dt>");l.push("<dd>已用空间: "+p.hardPartition.useableSpace+" ");l.push(" , 还剩: "+p.hardPartition.freeSpace+" </dd></dl>")}this._setHTML(l);return l.join("")};Directory.prototype.setDirAndFileList=function(f){if(hasError()){return false}var d=f?f:this.DIR;this.listDirTree();this.setFileAndFolderList(d)};Directory.prototype.setDirList=function(c){this.DirList.innerHTML=this.getDirListHTML(c)};Directory.prototype.setFileAndFolderList=function(c){if(hasError()){return false}this.FileListTitle.innerHTML=this.getFileAndFolderTheadHTML(c);this.FileListContent.innerHTML=this.getFileAndFolderListHTML(c);if(browser.ie==6){DirAction.setPageHeight()}};Directory.prototype.setFileList=function(c){this.FileList.innerHTML=this.getFileListHTML(c)};Directory.prototype.setInfoPanel=function(c){this.InfoPanel.innerHTML=this.getInfoPanelHTML(c)};DirAction=function(){var dirClass=new Directory();var page=g("Page");var DIR=dirClass.DIR;var dirPath=global.DIR_PATH;var FileListContent=dirClass.FileListContent;var DirList=dirClass.DirList;var FileList=dirClass.FileList;var setPageHeight=function(){var h=document.body.offsetHeight;h=h>200?h:200;var height=h-180;dom.setStyle(FileListContent,"height",height);dom.setStyle(DirList,"height",height+41)};var pageInit=function(){getDirJSON("");dirClass.setDirAndFileList();setPageHeight();event.on(window,"onresize",DirAction.setPageHeight)};var getDirJSON=function(path){var url=dirPath+"?path="+encodeURIComponent(path);var xhr=ajax.get(url,_parseDirJSON)};var _parseDirJSON=function(xhr,responseText){eval(responseText);dirClass.setFileAndFolderList(DIR);dirClass.setInfoPanel(DIR);FileAction.initTableListRowEvent()};var openFolder=function(path){if(global.OPEN_FOLDER_UPDATE_TREE){var id=decodeHTML(path)+getSlash(path);var sn=(new Date()).valueOf();var parentPath=getParentPath(id);var dirUrl="dir!getTree.action?id="+id;dirUrl=dirUrl+"&uid="+sn;if(Tree.getOpenState(parentPath)!=1&&Tree.getOpenState(id)!=1){Tree.openItem(parentPath);window.setTimeout(function(){Tree.selectItem(id)},100)}else{Tree.selectItem(id)}}getDirJSON(path)};return{pageInit:pageInit,setPageHeight:setPageHeight,getDirJSON:getDirJSON,openFolder:openFolder}}();DirAction.pageInit();function File(){this.path="";this.relationPath="";this.absolutePath="";this.filePath=global.FILE_PATH}File.prototype={setCreateFolderHTML:function(){if(!g("CreateNewFolder")){try{var k=HTMLTemplate.createNewFolderHTML;var h=getTemplateHTMLContainer();var j=document.createElement("div");j.innerHTML=k;h.appendChild(j)}catch(l){alert(l.toString())}}},getFolderJSON:function(l,n){try{var l=l+getSlash(l);l=decodeHTML(l);var j=this.filePath+"?mkdir=yes&path="+encodeURIComponent(l)+"&name="+encodeURIComponent(n);var k=ajax.get(j,FileAction.parseFolderJSON)}catch(m){alert(m.toString())}},setPosition:function(h,j,f){if(!h){return}h.style.left=j+"px";h.style.top=f+"px"},insertRow:function(c){if(hasError()){return false}DirAction.getDirJSON(decodeHTML(UPLOAD.uploadPath))},setFileEditHTML:function(){try{if(!g("FileEditBar")){var j=HTMLTemplate.editHTML;var h=document.createElement("div");h.id="FileEditBar";h.innerHTML=j;document.body.appendChild(h);h.className="file-edit-bar"}}catch(f){alert(f.toString())}},setRenameArea:function(){try{if(!g("FileRenameArea")||null==g("FileRenameArea")){var j=HTMLTemplate.renameHTML;var h=document.createElement("div");h.id="FileRenameArea";h.innerHTML=j;h.className="file-rename-area";document.body.appendChild(h)}}catch(f){alert(f.toString())}},renameFile:function(r,q){if(typeof r!="object"||q==null){return}if(trim(q).length==""){alert("请输入名称");return}if(!isAvailableName(q)){alert("名字不能含有:"+SPECIAL_CHAR.join(", ")+" 字符");return}var t=r.cells[0];var v="";if(!t||!t.firstChild){return}v=t.firstChild.innerHTML;if(v!=q){try{var p=r.cells[3].innerHTML;var n=(UPLOAD.uploadPath+decodeHTML(v));var u=global.FILE_PATH+"!rename.action?path="+encodeURIComponent(n)+"&name="+encodeURIComponent(q);var o=ajax.get(u,FileAction.parseRenameJSON)}catch(s){alert(s.toString())}}},copyFile:function(p){if(typeof p!="object"){return}try{var n=p.cells[0];var r="";if(!n||!n.firstChild){return}r=n.firstChild.innerHTML;var o=(UPLOAD.uploadPath+decodeHTML(r));var l=global.FILE_PATH+"!copy.action?path="+encodeURIComponent(o);var m=ajax.get(l,FileAction.parseCopyJSON)}catch(q){alert(q.toString())}},deleteFile:function(q){if(typeof q!="object"){return}try{var s=q.cells[0];var v="";if(!s||!s.firstChild){return}v=s.firstChild.innerHTML;var p=q.cells[3].innerHTML;var n=(UPLOAD.uploadPath+decodeHTML(v));var t=p=="folder"?"您确定要删除 "+v+" 文件夹吗？\r\n其全部子文件夹和文件将一同被删除。":"您确定要删除 "+v+" 文件吗？";if(confirm(t)){var u=global.FILE_PATH+"!delete.action?path="+encodeURIComponent(n);var o=ajax.get(u,FileAction.parseDeleteJSON)}}catch(r){alert(r.toString())}},_getFolderTr:function(p){var o="",l="_blank",k="";var m=this.relationPath||DIR.relationPath;var n=getFolderIconCss();if(global.FIEL_WEB_ROOT_URL){k=global.FIEL_WEB_ROOT_URL+encodeURIComponent(decodeHTML(m))+getSlash(m)+encodeURIComponent(decodeHTML(p.name))}nameLink=('<a href="'+k+'" class="'+n+'" target="'+l+'">'+p.name+"</a>");o+="<tr><td>"+nameLink+"</td><td>"+p.length+"</td><td>"+p.date+"</td><td>"+p.type+"</td><td>&nbsp;</td></tr>";return(o)}};FileAction=(function(){var fileClass=new File();var filePath=global.FILE_PATH;var tableListTr;var tableListTrIndex;var isEditing=false;var init=function(){event.on(g("CreateNewFolderLink"),"onclick",FileAction.setCreateFolderHTML);event.on(g("FileListContent"),"onscroll",function(){_hideFileEditBar();_hideRenameArea()});event.on(g("FileListContent"),"onmouseout",FileAction.outFileListContent)};var outFileListContent=function(event){var x,y;if(!document.all){x=event.clientX;y=event.clientY}else{x=event.x;y=event.y}if(!_isInFileTableList(x,y)){_hideFileEditBar();_hideRenameArea()}};var _isInFileTableList=function(x,y){if(!x||!y||x<=0||y<=0){return false}var top=dom.getPosition(g("FileTableList")).top;var left=dom.getPosition(g("FileTableList")).left;var width=g("FileTableList").offsetWidth;var bottom=dom.getPosition(g("InfoPanel")).top;var right=left+width;if((x<left||x>right)||(y<top||y>bottom)){return false}else{return true}};var hideCreateFolder=function(){if(g("CreateNewFolder")){_hide(g("CreateNewFolder"))}toggleMask()};var setCreateFolderHTML=function(){fileClass.setCreateFolderHTML();if(g("CreateNewFolder")){try{var left=dom.getPosition(this).left;var top=dom.getPosition(this).top+20;fileClass.setPosition(g("CreateNewFolder"),left,top);_showOrHide(g("CreateNewFolder"));_setNewFolderNameInputStatus();toggleMask()}catch(ex){alert(ex.toString())}}};var _setNewFolderNameInputStatus=function(){if(g("CreateNewFolder").style.display!="none"&&g("NewFolderName")){g("NewFolderName").focus();if(g("NewFolderName").value==""){_setTips(null,"")}}};var _setTips=function(id,str){var obj=g(id)||g("CreateNewFolerTips");obj.innerHTML=str;g("NewFolderName").focus()};var initTableListRowEvent=function(){var tableList=g("FileTableList");var len=tableList.rows.length;for(var i=0;i<len;i++){var obj={};tableList.rows[i].onmouseover=function(){FileAction.setTrOver(this)};tableList.rows[i].onmouseout=function(){FileAction.setTrOut(this)}}};var setTrOver=function(obj){if(isEditing){return}var trObj=(typeof(obj.tagName)=="string")?obj:this.tr;dom.addClass(trObj,"tr-over");setFileEditHTML(trObj)};var setFileEditHTML=function(trObj){FileAction.tableListTr=trObj;FileAction.tableListTrIndex=(_getTableListTrIndex(trObj));fileClass.setFileEditHTML();try{g("FileEditBar").onmouseover=function(){dom.addClass(trObj,"tr-over");_showFileEditBar()};g("FileEditBar").onmouseout=function(){dom.removeClass(trObj,"tr-over");_hideFileEditBar()};var left=dom.getPosition(trObj).left;var top=dom.getPosition(trObj).top;left+=200;fileClass.setPosition(g("FileEditBar"),left,top);_showFileEditBar()}catch(ex){alert(ex.toString())}};var setTrOut=function(obj){if(isEditing){return}var trObj=(typeof(obj.tagName)=="string")?obj:this;dom.removeClass(trObj,"tr-over")};var setRenameArea=function(trObj){fileClass.setRenameArea();try{if(g("FileRenameArea")&&trObj.cells[0]){var left=dom.getPosition(g("FileEditBar")).left-175;var top=dom.getPosition(g("FileEditBar")).top-4;fileClass.setPosition(g("FileRenameArea"),left,top);g("FileRenameArea").style.width=trObj.offsetWidth-35+"px";if(g("Rename")!=null){g("Rename").value=decodeHTML(trObj.cells[0].firstChild.innerHTML);var code=0;if(browser.ie){event.on(g("Rename"),"onkeyup",function(e){code=e.keyCode;if(code==13){renameFile(trObj,this.value)}})}else{g("Rename").onkeyup=function(e){code=e.keyCode;if(code==13){renameFile(trObj,this.value)}}}}_showRenameArea()}}catch(ex){alert(ex.toString())}};var _getTableListTrIndex=function(trObj,table){var table=table||g("FileTableList");var len=table.rows.length;for(var i=0;i<len;i++){if(table.rows[i]==trObj){return i}}return -1};var renameFile=function(trObj,newName){fileClass.renameFile(trObj,newName);_hideRenameArea()};var _refreshDirTree=function(){try{var state=Tree.getOpenState(UPLOAD.uploadPath);Tree.refreshItem(decodeHTML(UPLOAD.uploadPath));if(state!=1){Tree.closeItem(UPLOAD.uploadPath);window.setTimeout(function(){Tree.closeItem(UPLOAD.uploadPath)},50)}}catch(ex){alert(ex.toString())}};var _getType=function(){var type;if("object"==typeof FileAction.tableListTr.cells&&FileAction.tableListTr.cells[3]){type=(FileAction.tableListTr.cells[3].innerHTML)}return type};var parseRenameJSON=function(xhr,responseText){eval(responseText);if(MESSAGE["1"]=="RENAME_RESULT=success"){DirAction.getDirJSON(decodeHTML(UPLOAD.uploadPath));if(FileAction.tableListTr.cells[3].innerHTML=="folder"){_refreshDirTree()}}else{getReNameError(MESSAGE)}};var copyFile=function(trObj){fileClass.copyFile(trObj);_hideFileEditBar()};var parseCopyJSON=function(xhr,responseText){eval(responseText);if(MESSAGE["2"]=="COPY_RESULT=success"){DirAction.getDirJSON(decodeHTML(UPLOAD.uploadPath));_refreshDirTree()}else{getCopyFileError(MESSAGE)}};var deleteFile=function(trObj){FileAction.tableListTr=trObj;FileAction.tableListTrIndex=(_getTableListTrIndex(trObj));fileClass.deleteFile(trObj);_hideFileEditBar()};var parseDeleteJSON=function(xhr,responseText){eval(responseText);if(MESSAGE){if(MESSAGE["1"]=="DELETE_RESULT=success"){if(FileAction.tableListTr.cells[3].innerHTML=="folder"){_refreshDirTree()}g("FileTableList").childNodes[1].removeChild(FileAction.tableListTr)}else{getDeleteFileError(MESSAGE)}}};var createFolder=function(path,name){if(name==null||trim(name).length==""){_setTips(null,"请输入文件夹名称");return false}if(!isAvailableName(name)){_setTips(null,"名字不能含有:"+SPECIAL_CHAR.join(", ")+" 字符");return false}fileClass.getFolderJSON(path,name);return false};var parseFolderJSON=function(xhr,responseText){eval(responseText);if(MESSAGE){if(MESSAGE["1"]=="MKDIR_RESULT=failed"){getCreateNewFolderError(MESSAGE);return}}fileClass.insertRow(FILE.newFolder);hideCreateFolder();_refreshDirTree()};var _showOrHide=function(obj){if("object"!=typeof obj){return}var isHide=((obj.style.display==""||obj.style.display=="none"));obj.style.display=isHide?"block":"none"};var _show=function(obj){if("object"!=typeof obj){return}obj.style.display="block"};var _hide=function(obj){if("object"==typeof obj){obj.style.display="none"}};var _showFileEditBar=function(){if(g("FileEditBar")){_show(g("FileEditBar"))}};var _showRenameArea=function(){if(g("FileRenameArea")){_show(g("FileRenameArea"))}isEditing=true};var _hideFileEditBar=function(){if(g("FileEditBar")){_hide(g("FileEditBar"))}};var hideRenameArea=function(){if(g("FileRenameArea")){_hideRenameArea()}};var _hideRenameArea=function(){if(g("FileRenameArea")){_hide(g("FileRenameArea"))}isEditing=false};var getReNameError=function(message){alert("重命名失败。可能没有权限或者已存在同名文件(夹)。谢谢！")};var getCopyFileError=function(message){alert("复制失败。可能没有权限或者文件(夹)不存在。谢谢！")};var getDeleteFileError=function(message){alert("删除失败。可能没有权限或者文件(夹)不存在。谢谢！")};var getCreateNewFolderError=function(message){alert("新建文件夹失败。请检查是否重名或者没有权限。谢谢！")};return{init:init,outFileListContent:outFileListContent,createFolder:createFolder,setCreateFolderHTML:setCreateFolderHTML,hideCreateFolder:hideCreateFolder,parseFolderJSON:parseFolderJSON,parseDeleteJSON:parseDeleteJSON,parseRenameJSON:parseRenameJSON,parseCopyJSON:parseCopyJSON,initTableListRowEvent:initTableListRowEvent,setTrOver:setTrOver,setTrOut:setTrOut,renameFile:renameFile,copyFile:copyFile,deleteFile:deleteFile,tableListTr:tableListTr,tableListTrIndex:tableListTrIndex,setRenameArea:setRenameArea,hideRenameArea:hideRenameArea,isEditing:isEditing}})();FileAction.init();function Help(){}Help.prototype={setHelpHTML:function(l){try{if(!g("HelpArea")){var m=HTMLTemplate.helpHTML;var j=getTemplateHTMLContainer();var k=document.createElement("div");k.innerHTML=m;k.id="HelpArea";k.className="help-area";document.body.appendChild(k);if(g("HelpContent")){g("HelpContent").innerHTML=l}}else{if(g("HelpContent")){g("HelpContent").innerHTML=l}}this.setPosition(g("HelpArea"),null,null)}catch(n){alert(n.toString())}},setPosition:function(o,r,m){if(!o||typeof o=="undefined"){return}var q=document.body.offsetWidth;var n=document.body.offsetHeight;var p=600;var l=400;if(!r){r=q>p?(q-p)/2:0}if(!m){m=n>l?(n-l)/2-20:0}o.style.left=r+"px";o.style.top=m+"px"}};HelpAction=(function(){var n=new Help();var q={index:""};var p=function(){};var s=function(){if(q.index.length<=0){var a="help/index.html";var c=ajax.get(a,r)}else{n.setHelpHTML(q.index);toggleMask();o()}};var o=function(){if(g("HelpArea")){g("HelpArea").style.display=""}};var t=function(){if(g("HelpArea")){g("HelpArea").style.display="none"}};var m=function(){t();toggleMask()};var r=function(c,a){q.index=a;n.setHelpHTML(a);toggleMask();o()};return{pageInit:p,show:s,close:m}})();HelpAction.pageInit();